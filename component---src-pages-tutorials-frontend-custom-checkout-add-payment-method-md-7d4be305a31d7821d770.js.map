{"version":3,"file":"component---src-pages-tutorials-frontend-custom-checkout-add-payment-method-md-7d4be305a31d7821d770.js","mappings":"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","sources":["webpack://commerce-php/./src/pages/tutorials/frontend/custom-checkout/add-payment-method.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/commerce-php/commerce-php/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"add-a-custom-payment-method-to-checkout\"\n    }}>{`Add a custom payment method to checkout`}</h1>\n    <p>{`Out of the box, checkout consists of two steps:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Shipping Information`}</li>\n      <li parentName=\"ul\">{`Review and Payment Information`}</li>\n    </ul>\n    <p>{`On the Review and Payment Information step the enabled payment methods are rendered. This topic describes how to add your custom payment method to this list.`}</p>\n    <p>{`To implement a payment method rendering in checkout, you need to take the following steps:`}</p>\n    <ol>\n      <li parentName=\"ol\"><a parentName=\"li\" {...{\n          \"href\": \"#step-1-create-the-js-component-file\"\n        }}>{`Create the `}<inlineCode parentName=\"a\">{`.js`}</inlineCode>{` file implementing the component (payment method renderer).`}</a></li>\n      <li parentName=\"ol\"><a parentName=\"li\" {...{\n          \"href\": \"#step-2-create-the-js-component-that-registers-the-renderer\"\n        }}>{`Create the `}<inlineCode parentName=\"a\">{`.js`}</inlineCode>{` component registering the payment method renderer.`}</a></li>\n      <li parentName=\"ol\"><a parentName=\"li\" {...{\n          \"href\": \"#step-3-create-the-template-for-the-payment-method-component\"\n        }}>{`Create a template for the payment method renderer.`}</a></li>\n      <li parentName=\"ol\"><a parentName=\"li\" {...{\n          \"href\": \"#step-4-declare-the-payment-method-in-layout\"\n        }}>{`Declare the new payment in the checkout page layout.`}</a></li>\n    </ol>\n    <h2 {...{\n      \"id\": \"step-1-create-the-js-component-file\"\n    }}>{`Step 1: Create the .js component file`}</h2>\n    <p>{`Your payment method renderer must be implemented as a UI component. For the sake of compatibility, upgradability and easy maintenance, do not edit the default application code, add your customizations in a separate module. For your checkout customization to be applied correctly, your custom module should depend on the `}<inlineCode parentName=\"p\">{`Magento_Checkout`}</inlineCode>{` module. Module dependencies are specified in the `}<a parentName=\"p\" {...{\n        \"href\": \"../../../development/build/composer-integration.md\"\n      }}>{`module's `}<inlineCode parentName=\"a\">{`composer.json`}</inlineCode></a>{`.`}</p>\n    <p>{`Do not use `}<inlineCode parentName=\"p\">{`Ui`}</inlineCode>{` for your custom module name, because `}<inlineCode parentName=\"p\">{`%Vendor%_Ui`}</inlineCode>{` notation, required when specifying paths, might cause issues.`}</p>\n    <p>{`In your custom module directory create the component's `}<inlineCode parentName=\"p\">{`.js`}</inlineCode>{` file (payment method renderer). It must be located under the `}<inlineCode parentName=\"p\">{`<your_module_dir>/view/frontend/web/js/view/`}</inlineCode>{` directory. For example in the modules, the payment methods renderers are stored in the `}<inlineCode parentName=\"p\">{`<Magento_module_dir>/view/frontend/web/js/view/payment/method-renderer/`}</inlineCode>{` directory.`}</p>\n    <p>{`Usually, your component will extend the default payment method component (default payment method renderer) implemented in the `}<inlineCode parentName=\"p\">{`<Magento_Checkout_module_dir>/view/frontend/web/js/view/payment/default.js`}</inlineCode>{` file. The following table contains the list of the `}<inlineCode parentName=\"p\">{`default`}</inlineCode>{` component's methods.`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Method`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`getCode():string`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Returns the code of the payment method`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`getData():object`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Returns an object with the payment data to be sent to the server on selecting a payment method and/or an extension (on pressing Continue button). It must contain data according to \\\\Magento\\\\Quote\\\\Api\\\\Data\\\\PaymentInterface. All the payment information except the method code and purchase order number is passed in the additional_data field.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`placeOrder():bool`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Places an order if all validations passed.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`selectPaymentMethod():bool`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Adds information about the payment method selected by the user to the Quote JS object.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`isChecked():string`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Returns the code of the selected payment method.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`isRadioButtonVisible():bool`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Returns true if only one payment method is available.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`getTitle():string`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Returns the payment method title.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`validate():bool`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Used in the placeOrder() method. So you can override validate() in your module, and this validation will be performed in the scope of placeOrder().`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`getBillingAddressFormName():string`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Gets the unique billing address name.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`disposeSubscriptions()`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Terminates the object's subscription.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <p>{`The general view of the payment method renderer is the following:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`define(\n    [\n        'Magento_Checkout/js/view/payment/default'\n    ],\n    function (Component) {\n        'use strict';\n        return Component.extend({\n            defaults: {\n                template: '%path to template%'\n            },\n            // add required logic here\n        });\n    }\n);\n`}</code></pre>\n    <p>{`If your payment method requires credit cards information, you might use the application renderer implementing a credit card form: `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/magento2/blob/2.4/app/code/Magento/Payment/view/frontend/web/js/view/payment/cc-form.js\"\n      }}><inlineCode parentName=\"a\">{`<Magento_Payment_module_dir>/view/frontend/web/js/view/payment/cc-form.js`}</inlineCode></a>{`. It also extends the default payment renderer, but has the following own methods:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Method`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`getData():object`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Returns an object with the payment data to be sent to the server on selecting a payment method and/or an extension (on pressing Continue button). It must contain data according to \\\\Magento\\\\Quote\\\\Api\\\\Data\\\\PaymentInterface. All the payment information except the method code and purchase order number is passed in the additional_data field. Adds credit card data (type, issue date, number, CVV).`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`getCcAvailableTypes():array`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Returns the list of available credit card types.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`getIcons():bool`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Returns links to the images for available credit card types.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`getCcMonths():object`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Retrieves the month of the credit card expiration date.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`getCcYears():object`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Retrieves the year of the credit card expiration date.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`hasVerification():bool`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`A flag that shows if the credit card CVV number is required for this payment.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`hasSsCardType():bool`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Returns true if the Solo and Switch (Maestro) card types are available.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`getCvvImageUrl():string`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Retrieves the CVV tooltip image URL.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`getCvvImageHtml():string`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Retrieves the CVV tooltip image HTML.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`getSsStartYears():object`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Solo or Switch (Maestro) card start year.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h3 {...{\n      \"id\": \"access-the-system-config-data\"\n    }}>{`Access the system config data`}</h3>\n    <p>{`Your payment method might need to get data that cannot be defined in layout configuration, JS components or templates directly, for example, data from the application system config.\nThis configuration is stored in the `}<inlineCode parentName=\"p\">{`window.checkoutConfig`}</inlineCode>{` variable that is defined in root checkout template.`}</p>\n    <p>{`In order to get access to the system configuration, your payment method or a group of payment methods has to implement the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/magento2/blob/2.4/app/code/Magento/Checkout/Model/ConfigProviderInterface.php\"\n      }}><inlineCode parentName=\"a\">{`\\\\Magento\\\\Checkout\\\\Model\\\\ConfigProviderInterface`}</inlineCode></a>{` interface, and the class implementing it must be injected to the composite config provider via DI frontend configuration. The following code samples illustrate this.`}</p>\n    <p>{`This is a sample `}<inlineCode parentName=\"p\">{`.php`}</inlineCode>{` file implementing `}<inlineCode parentName=\"p\">{`\\\\Magento\\\\Checkout\\\\Model\\\\ConfigProviderInterface`}</inlineCode>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-php?start_inline=1\"\n      }}>{`class MyCustomPaymentConfigProvider implements \\\\Magento\\\\Checkout\\\\Model\\\\ConfigProviderInterface\n{\n...\n    public function getConfig()\n    {\n        return [\n            // 'key' => 'value' pairs of configuration\n        ];\n    }\n...\n}\n`}</code></pre>\n    <p>{`Here is the associated sample DI configuration file of a custom module `}<inlineCode parentName=\"p\">{`<your_module_dir>/etc/frontend/di.xml`}</inlineCode>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`...\n<type name=\"Magento\\\\Checkout\\\\Model\\\\CompositeConfigProvider\">\n    <arguments>\n        <argument name=\"configProviders\" xsi:type=\"array\">\n            ...\n            <item name=\"%Custom_provider_name%\" xsi:type=\"object\">MyCustomPaymentConfigProvider</item>\n            ...\n        </argument>\n    </arguments>\n...\n</type>\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"add-other-payment-related-features\"\n    }}>{`Add other payment-related features`}</h3>\n    <p>{`You can also add payment-related features (like reward points, gift registry, an so on) to the Review and Payment Information checkout step. They must be implemented as UI components as well, and can be displayed before or after the list of payment methods. This is configured in the `}<a parentName=\"p\" {...{\n        \"href\": \"#step-4-declare-the-payment-method-in-layout\"\n      }}>{`checkout page layout file correspondingly`}</a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"step-2-create-the-js-component-that-registers-the-renderer\"\n    }}>{`Step 2: Create the .js component that registers the renderer`}</h2>\n    <p>{`In your custom module directory create the `}<inlineCode parentName=\"p\">{`.js`}</inlineCode>{` UI component that registers the payment method renderer in the renderers list. It must be located under the `}<inlineCode parentName=\"p\">{`<your_module_dir>/view/frontend/web/js/view/`}</inlineCode>{` directory. For example in the modules, the payment methods renderers are stored in the `}<inlineCode parentName=\"p\">{`<Magento_module_dir>/view/frontend/web/js/view/payment/`}</inlineCode>{` directory.`}</p>\n    <p>{`The file content must be similar to the following:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`define(\n    [\n        'uiComponent',\n        'Magento_Checkout/js/model/payment/renderer-list'\n    ],\n    function (\n        Component,\n        rendererList\n    ) {\n        'use strict';\n        rendererList.push(\n            {\n                type: '%payment_method_code%',\n                component: '%js_renderer_component%'\n            },\n            // other payment method renderers if required\n        );\n        /** Add view logic here if needed */\n        return Component.extend({});\n    }\n);\n`}</code></pre>\n    <p>{`If your module adds several payment methods, you can register all payment methods renderers in one file.`}</p>\n    <h2 {...{\n      \"id\": \"step-3-create-the-template-for-the-payment-method-component\"\n    }}>{`Step 3: Create the template for the payment method component`}</h2>\n    <p>{`In your custom module directory create a new `}<inlineCode parentName=\"p\">{`<your_module_dir>/view/frontend/web/template/<your_template>.html`}</inlineCode>{` file. The template can use `}<a parentName=\"p\" {...{\n        \"href\": \"http://knockoutjs.com/\"\n      }}>{`Knockout JS`}</a>{` syntax. You can find a sample `}<inlineCode parentName=\"p\">{`.html`}</inlineCode>{` template in any module implementing payment methods, for example the Paypal module.`}</p>\n    <p>{`The template for rendering the Paypal Express payment method in checkout is `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/magento2/blob/2.4/app/code/Magento/Paypal/view/frontend/web/template/payment/paypal-express.html\"\n      }}><inlineCode parentName=\"a\">{`<Magento_Paypal_module_dir>/frontend/web/template/payment/paypal-express.html`}</inlineCode></a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"step-4-declare-the-payment-method-in-layout\"\n    }}>{`Step 4: Declare the payment method in layout`}</h2>\n    <p>{`In your custom module directory, create a new `}<inlineCode parentName=\"p\">{`<your_module_dir>/view/frontend/layout/checkout_index_index.xml`}</inlineCode>{` file. In this file, add the following:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<page xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"urn:magento:framework:View/Layout/etc/page_configuration.xsd\">\n    <body>\n        <referenceBlock name=\"checkout.root\">\n            <arguments>\n                <argument name=\"jsLayout\" xsi:type=\"array\">\n                    <item name=\"components\" xsi:type=\"array\">\n                        <item name=\"checkout\" xsi:type=\"array\">\n                            <item name=\"children\" xsi:type=\"array\">\n                                <item name=\"steps\" xsi:type=\"array\">\n                                    <item name=\"children\" xsi:type=\"array\">\n                                        <item name=\"billing-step\" xsi:type=\"array\">\n                                            <item name=\"component\" xsi:type=\"string\">uiComponent</item>\n                                            <item name=\"children\" xsi:type=\"array\">\n                                                <item name=\"payment\" xsi:type=\"array\">\n                                                    <item name=\"children\" xsi:type=\"array\">\n                                                        <!-- Declare additional before payment components. START -->\n                                                        <item name=\"beforeMethods\" xsi:type=\"array\">\n                                                            <item name=\"component\" xsi:type=\"string\">uiComponent</item>\n                                                            <item name=\"displayArea\" xsi:type=\"string\">beforeMethods</item>\n                                                            <item name=\"children\" xsi:type=\"array\">\n                                                                <item name=\"%your_feature_name%\" xsi:type=\"array\">\n                                                                    <item name=\"component\" xsi:type=\"string\">%path/to/your/feature_js_component%</item>\n                                                                </item>\n                                                            </item>\n                                                        </item>\n                                                        <!-- Declare additional before payment components. END -->\n                                                        <!-- Declare the payment method (the component that registrates in the list). START -->\n                                                        <item name=\"renders\" xsi:type=\"array\">\n                                                            <item name=\"children\" xsi:type=\"array\">\n                                                                <item name=\"%group name of the payment methods%\" xsi:type=\"array\">\n                                                                    <!-- Example of value: Magento_Paypal/view/frontend/web/js/view/payment-->\n                                                                    <item name=\"component\" xsi:type=\"string\">%component_that_registers_payment_renderer%</item>\n                                                                    <item name=\"methods\" xsi:type=\"array\">\n\n                                                                        <!-- Add this if your payment method requires entering a billing address-->\n                                                                        <item name=\"%payment_method_code%\" xsi:type=\"array\">\n                                                                            <item name=\"isBillingAddressRequired\" xsi:type=\"boolean\">true</item>\n                                                                        </item>\n                                                                    </item>\n                                                                </item>\n                                                            </item>\n                                                        </item>\n                                                        <!-- Declare the payment method (the component that registrates in the list). END -->\n\n                                                        <!-- Declare additional after payment components. START -->\n                                                        <item name=\"afterMethods\" xsi:type=\"array\">\n                                                            <item name=\"component\" xsi:type=\"string\">uiComponent</item>\n                                                            <item name=\"displayArea\" xsi:type=\"string\">afterMethods</item>\n                                                            <item name=\"children\" xsi:type=\"array\">\n                                                                <item name=\"%your_feature_name%\" xsi:type=\"array\">\n                                                                    <item name=\"component\" xsi:type=\"string\">%path/to/your/feature_js_component%</item>\n                                                                </item>\n                                                            </item>\n                                                        </item>\n                                                        <!-- Declare additional after payment components. END -->\n                                                    </item>\n                                                </item>\n                                            </item>\n                                        </item>\n                                    </item>\n                                </item>\n                            </item>\n                        </item>\n                    </item>\n                </argument>\n            </arguments>\n        </referenceBlock>\n    </body>\n</page>\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"step-5run-cli-commands\"\n    }}>{`Step 5:Run CLI Commands`}</h2>\n    <p>{`These steps are required in production mode only, not while in development mode.`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Compile the code:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`bin/magento setup:di:compile\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Deploy the static contents:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`bin/magento setup:static-content:deploy\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Clean the cache:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`bin/magento cache:clean\n`}</code></pre>\n      </li>\n    </ol>\n    <p>{`For an illustration of `}<inlineCode parentName=\"p\">{`checkout_index_index.xml`}</inlineCode>{` where a new payment method is declared, view `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/magento2/blob/2.4/app/code/Magento/Paypal/view/frontend/layout/checkout_index_index.xml\"\n      }}>{`app/code/Magento/Paypal/view/frontend/layout/checkout_index_index.xml`}</a></p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"sourceRoot":""}