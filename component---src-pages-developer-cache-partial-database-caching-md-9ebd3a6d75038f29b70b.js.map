{"version":3,"file":"component---src-pages-developer-cache-partial-database-caching-md-9ebd3a6d75038f29b70b.js","mappings":"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","sources":["webpack://commerce-php/./src/pages/developer/cache/partial/database-caching.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/commerce-php/commerce-php/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst InlineAlert = makeShortcode(\"InlineAlert\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h2 {...{\n      \"id\": \"overview-of-database-caching-mage-cache-db-over\"\n    }}>{`Overview of database caching {#mage-cache-db-over}`}</h2>\n    <p>{`This topic discusses how to use the database for caching. After you complete these tasks, cached objects are stored in the `}<inlineCode parentName=\"p\">{`cache`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`cache_tag`}</inlineCode>{` database tables. Nothing is stored `}<inlineCode parentName=\"p\">{`var/cache`}</inlineCode>{` or `}<inlineCode parentName=\"p\">{`var/page_cache`}</inlineCode>{`.`}</p>\n    <p>{`This topic discusses how to set up database caching and how to verify database caching is working. We discuss the following options:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Using the `}<inlineCode parentName=\"li\">{`default`}</inlineCode>{` cache frontend, in which case you modify `}<inlineCode parentName=\"li\">{`di.xml`}</inlineCode>{` only.`}</li>\n      <li parentName=\"ul\">{`Using a custom `}<a parentName=\"li\" {...{\n          \"href\": \"https://glossary.magento.com/cache\"\n        }}>{`cache`}</a>{` frontend, in which case you modify `}<inlineCode parentName=\"li\">{`env.php`}</inlineCode>{` only.`}</li>\n    </ul>\n    <InlineAlert variant=\"warning\" slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`Database caching---like file-based caching--- works well in a development environment but we `}<em parentName=\"p\">{`strongly recommend`}</em>{` you use `}<a parentName=\"p\" {...{\n        \"href\": \"https://devdocs.magento.com/guides/v2.4/config-guide/varnish/config-varnish.html\"\n      }}>{`Varnish`}</a>{` in production instead.\nVarnish is designed to accelerate the HTTP protocol.`}</p>\n    <h2 {...{\n      \"id\": \"prerequisites-mage-cache-db-prereq\"\n    }}>{`Prerequisites {#mage-cache-db-prereq}`}</h2>\n    <p>{`Before you continue, if you're using your own frontend cache, make sure you `}<a parentName=\"p\" {...{\n        \"href\": \"https://devdocs.magento.com/guides/v2.4/config-guide/cache/cache-types.html\"\n      }}>{`associate cache frontends with cache types`}</a>{`. If you're using the `}<inlineCode parentName=\"p\">{`default`}</inlineCode>{` `}<a parentName=\"p\" {...{\n        \"href\": \"https://glossary.magento.com/frontend\"\n      }}>{`frontend`}</a>{` cache, you don't have to do that.`}</p>\n    <p>{`We provide `}<a parentName=\"p\" {...{\n        \"href\": \"#mage-cache-db-config\"\n      }}>{`sample configurations`}</a>{` at the end of this topic.`}</p>\n    <h2 {...{\n      \"id\": \"database-caching-using-the-default-cache-frontend-mage-cache-db-di\"\n    }}>{`Database caching using the `}<inlineCode parentName=\"h2\">{`default`}</inlineCode>{` cache frontend {#mage-cache-db-di}`}</h2>\n    <p>{`To enable database caching using the `}<inlineCode parentName=\"p\">{`default`}</inlineCode>{` frontend, you must modify the `}<inlineCode parentName=\"p\">{`<magento_root>/app/etc/di.xml`}</inlineCode>{` file, which is the global deployment injection configuration for the application.`}</p>\n    <p>{`To modify `}<inlineCode parentName=\"p\">{`di.xml`}</inlineCode>{`:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Log in to the application server as, or switch to, the `}<a parentName=\"p\" {...{\n            \"href\": \"https://devdocs.magento.com/guides/v2.4/install-gde/prereq/file-sys-perms-over.html\"\n          }}>{`file system owner`}</a>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Enter the following commands to make a copy of `}<inlineCode parentName=\"p\">{`di.xml`}</inlineCode>{`:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`cd <magento_root>/app/etc\n`}</code></pre>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`cp di.xml di.xml.bak\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Open `}<inlineCode parentName=\"p\">{`di.xml`}</inlineCode>{` in a text editor and locate the following block:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-xml\"\n          }}>{`<type name=\"Magento\\\\Framework\\\\App\\\\Cache\\\\Frontend\\\\Pool\">\n    <arguments>\n        <argument name=\"frontendSettings\" xsi:type=\"array\">\n            <item name=\"page_cache\" xsi:type=\"array\">\n                <item name=\"backend_options\" xsi:type=\"array\">\n                    <item name=\"cache_dir\" xsi:type=\"string\">page_cache</item>\n                </item>\n            </item>\n        </argument>\n    </arguments>\n</type>\n<type name=\"Magento\\\\Framework\\\\App\\\\Cache\\\\Type\\\\FrontendPool\">\n    <arguments>\n        <argument name=\"typeFrontendMap\" xsi:type=\"array\">\n            <item name=\"full_page\" xsi:type=\"string\">page_cache</item>\n        </argument>\n    </arguments>\n</type>\n`}</code></pre>\n        <p parentName=\"li\">{`The `}<inlineCode parentName=\"p\">{`<type name=\"Magento\\\\Framework\\\\App\\\\Cache\\\\Frontend\\\\Pool\">`}</inlineCode>{` node configures options for the in-memory pool of all frontend cache instances.`}</p>\n        <p parentName=\"li\">{`The `}<inlineCode parentName=\"p\">{`<type name=\"Magento\\\\Framework\\\\App\\\\Cache\\\\Type\\\\FrontendPool\">`}</inlineCode>{` node configures cache frontend options specific to each cache type.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Replace the entire block with the following:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-xml\"\n          }}>{`<type name=\"Magento\\\\Framework\\\\App\\\\Cache\\\\Frontend\\\\Pool\">\n    <arguments>\n        <argument name=\"frontendSettings\" xsi:type=\"array\">\n            <item name=\"page_cache\" xsi:type=\"array\">\n                <item name=\"backend\" xsi:type=\"string\">database</item>\n            </item>\n            <item name=\"<your cache id>\" xsi:type=\"array\">\n                <item name=\"backend\" xsi:type=\"string\">database</item>\n            </item>\n        </argument>\n    </arguments>\n</type>\n<type name=\"Magento\\\\Framework\\\\App\\\\Cache\\\\Type\\\\FrontendPool\">\n    <arguments>\n        <argument name=\"typeFrontendMap\" xsi:type=\"array\">\n            <item name=\"backend\" xsi:type=\"string\">database</item>\n        </argument>\n    </arguments>\n</type>\n`}</code></pre>\n        <p parentName=\"li\">{`where `}<inlineCode parentName=\"p\">{`<your cache id>`}</inlineCode>{` is your unique cache identifier.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Save your changes to `}<inlineCode parentName=\"p\">{`di.xml`}</inlineCode>{` and exit the text editor.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Continue with `}<a parentName=\"p\" {...{\n            \"href\": \"#mage-cache-db-verify\"\n          }}>{`Verify database caching is working`}</a>{`.`}</p>\n      </li>\n    </ol>\n    <h2 {...{\n      \"id\": \"database-caching-using-a-custom-cache-frontend-mage-cache-db-env\"\n    }}>{`Database caching using a custom cache frontend {#mage-cache-db-env}`}</h2>\n    <p>{`This section discusses how to set up database caching with a custom `}<a parentName=\"p\" {...{\n        \"href\": \"https://glossary.magento.com/cache-frontend\"\n      }}>{`cache frontend`}</a>{`.`}</p>\n    <InlineAlert variant=\"info\" slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`Due to a known issue, a custom cache frontend still results in some objects being cached to the file system; however, fewer assets are cached compared to file system caching.`}</p>\n    <p>{`To enable database caching using a custom cache frontend, you must modify `}<inlineCode parentName=\"p\">{`<magento_root>/app/etc/env.php`}</inlineCode>{` as follows:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Log in to the application server as, or switch to, the `}<a parentName=\"p\" {...{\n            \"href\": \"https://devdocs.magento.com/guides/v2.4/install-gde/prereq/file-sys-perms-over.html\"\n          }}>{`file system owner`}</a>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Enter the following commands to make a copy of `}<inlineCode parentName=\"p\">{`env.php`}</inlineCode>{`:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`cd <magento_root>/app/etc\n`}</code></pre>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`cp env.php env.php.bak\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Open `}<inlineCode parentName=\"p\">{`env.php`}</inlineCode>{` in a text editor and add the following anywhere, such as before `}<inlineCode parentName=\"p\">{`'cache_types' =>`}</inlineCode>{`:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-php\"\n          }}>{`'cache' => [\n    'frontend' => [\n        '<unique frontend id>' => [\n             <cache options>\n        ],\n    ],\n    'type' => [\n         <cache type 1> => [\n             'frontend' => '<unique frontend id>'\n        ],\n    ],\n    'type' => [\n         <cache type 2> => [\n            'frontend' => '<unique frontend id>'\n        ],\n    ],\n],\n`}</code></pre>\n        <p parentName=\"li\">{`An example is shown in `}<a parentName=\"p\" {...{\n            \"href\": \"#mage-cache-db-config\"\n          }}>{`Configuration examples`}</a>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Save your changes to `}<inlineCode parentName=\"p\">{`env.php`}</inlineCode>{` and exit the text editor.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Continue with the next section.`}</p>\n      </li>\n    </ol>\n    <h2 {...{\n      \"id\": \"verify-database-caching-is-working-mage-cache-db-verify\"\n    }}>{`Verify database caching is working {#mage-cache-db-verify}`}</h2>\n    <p>{`To verify database caching is working, clear the current cache directories, go to any cacheable page in a web browser, and verify that data is written to the database and not to the file system.`}</p>\n    <p>{`Use the following steps:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`If you haven't done so already, log in to the application server as, or switch to, the `}<a parentName=\"p\" {...{\n            \"href\": \"https://devdocs.magento.com/guides/v2.4/install-gde/prereq/file-sys-perms-over.html\"\n          }}>{`file system owner`}</a>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Clear the current cache directories:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`rm -rf <magento_root>/var/cache/* <magento_root>/var/page_cache/* <magento_root>/generated/metadata/* <magento_root>/generated/code/*\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`In a web browser, go to any cacheable page (such as the `}<a parentName=\"p\" {...{\n            \"href\": \"https://glossary.magento.com/storefront\"\n          }}>{`storefront`}</a>{` front door page).`}</p>\n        <p parentName=\"li\">{`If exceptions display, verify `}<inlineCode parentName=\"p\">{`di.xml`}</inlineCode>{` syntax and try again. (To see exceptions in the browser, you must `}<a parentName=\"p\" {...{\n            \"href\": \"https://devdocs.magento.com/guides/v2.4/config-guide/cli/config-cli-subcommands-mode.html#change-to-developer-mode\"\n          }}>{`enable developer mode`}</a>{`.)`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Enter the following commands:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`ls <magento_root>/var/cache/*\n`}</code></pre>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`ls <magento_root>/var/page_cache/*\n`}</code></pre>\n        <p parentName=\"li\">{`Due to a known issue, a custom cache frontend still results in some objects being cached to the file system; however, fewer assets are cached compared to file system caching. If you use the `}<inlineCode parentName=\"p\">{`default`}</inlineCode>{` cache frontend, you don't have this issue.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Verify both directories are empty; if not, edit `}<inlineCode parentName=\"p\">{`di.xml`}</inlineCode>{` again and correct any issues.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Use a database tool such as `}<a parentName=\"p\" {...{\n            \"href\": \"https://devdocs.magento.com/guides/v2.4/install-gde/prereq/optional.html#install-optional-phpmyadmin\"\n          }}>{`phpMyAdmin`}</a>{` to verify there is data in the `}<inlineCode parentName=\"p\">{`cache`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`cache_tag`}</inlineCode>{` tables.`}</p>\n        <p parentName=\"li\">{`The following figures show examples. The important thing is that there are rows in the tables. `}<em parentName=\"p\">{`The data in your tables will be different than the following`}</em>{`.`}</p>\n        <p parentName=\"li\"><inlineCode parentName=\"p\">{`cache`}</inlineCode>{` table example.`}</p>\n        <p parentName=\"li\"><span parentName=\"p\" {...{\n            \"className\": \"gatsby-resp-image-wrapper\",\n            \"style\": {\n              \"position\": \"relative\",\n              \"display\": \"block\",\n              \"marginLeft\": \"auto\",\n              \"marginRight\": \"auto\",\n              \"maxWidth\": \"1075px\"\n            }\n          }}>{`\n      `}<span parentName=\"span\" {...{\n              \"className\": \"gatsby-resp-image-background-image\",\n              \"style\": {\n                \"paddingBottom\": \"60.9375%\",\n                \"position\": \"relative\",\n                \"bottom\": \"0\",\n                \"left\": \"0\",\n                \"display\": \"block\",\n                \"transition\": \"opacity 0.5s 0.5s\",\n                \"pointerEvents\": \"none\"\n              }\n            }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n                \"srcSet\": [\"/commerce-php/static/47b9e45e996c19c481acff5b564ca724/cb523/config-db_cache-table.webp 320w\", \"/commerce-php/static/47b9e45e996c19c481acff5b564ca724/797b9/config-db_cache-table.webp 640w\", \"/commerce-php/static/47b9e45e996c19c481acff5b564ca724/a7829/config-db_cache-table.webp 1075w\"],\n                \"sizes\": \"(max-width: 1075px) 100vw, 1075px\",\n                \"type\": \"image/webp\"\n              }}></source>{`\n          `}<source parentName=\"picture\" {...{\n                \"srcSet\": [\"/commerce-php/static/47b9e45e996c19c481acff5b564ca724/72799/config-db_cache-table.png 320w\", \"/commerce-php/static/47b9e45e996c19c481acff5b564ca724/6af66/config-db_cache-table.png 640w\", \"/commerce-php/static/47b9e45e996c19c481acff5b564ca724/38a65/config-db_cache-table.png 1075w\"],\n                \"sizes\": \"(max-width: 1075px) 100vw, 1075px\",\n                \"type\": \"image/png\"\n              }}></source>{`\n          `}<img parentName=\"picture\" {...{\n                \"className\": \"gatsby-resp-image-image\",\n                \"src\": \"/commerce-php/static/47b9e45e996c19c481acff5b564ca724/38a65/config-db_cache-table.png\",\n                \"alt\": \"Sample contents of the cache table with database caching enabled\",\n                \"title\": \"Sample contents of the cache table with database caching enabled\",\n                \"loading\": \"lazy\",\n                \"style\": {\n                  \"width\": \"100%\",\n                  \"height\": \"100%\",\n                  \"margin\": \"0\",\n                  \"verticalAlign\": \"middle\",\n                  \"position\": \"absolute\",\n                  \"opacity\": \"0\",\n                  \"transition\": \"opacity 0.5s\",\n                  \"color\": \"inherit\",\n                  \"boxShadow\": \"inset 0px 0px 0px 400px none\",\n                  \"top\": \"0\",\n                  \"left\": \"0\"\n                }\n              }}></img>{`\n        `}</picture>{`\n    `}</span></p>\n        <p parentName=\"li\"><inlineCode parentName=\"p\">{`cache_tag`}</inlineCode>{` table example.`}</p>\n        <p parentName=\"li\"><span parentName=\"p\" {...{\n            \"className\": \"gatsby-resp-image-wrapper\",\n            \"style\": {\n              \"position\": \"relative\",\n              \"display\": \"block\",\n              \"marginLeft\": \"auto\",\n              \"marginRight\": \"auto\",\n              \"maxWidth\": \"820px\"\n            }\n          }}>{`\n      `}<span parentName=\"span\" {...{\n              \"className\": \"gatsby-resp-image-background-image\",\n              \"style\": {\n                \"paddingBottom\": \"79.6875%\",\n                \"position\": \"relative\",\n                \"bottom\": \"0\",\n                \"left\": \"0\",\n                \"display\": \"block\",\n                \"transition\": \"opacity 0.5s 0.5s\",\n                \"pointerEvents\": \"none\"\n              }\n            }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n                \"srcSet\": [\"/commerce-php/static/1e21c68a85943f38d9decd91465303c3/cb523/config-db_cache-tag-table.webp 320w\", \"/commerce-php/static/1e21c68a85943f38d9decd91465303c3/797b9/config-db_cache-tag-table.webp 640w\", \"/commerce-php/static/1e21c68a85943f38d9decd91465303c3/f3687/config-db_cache-tag-table.webp 820w\"],\n                \"sizes\": \"(max-width: 820px) 100vw, 820px\",\n                \"type\": \"image/webp\"\n              }}></source>{`\n          `}<source parentName=\"picture\" {...{\n                \"srcSet\": [\"/commerce-php/static/1e21c68a85943f38d9decd91465303c3/72799/config-db_cache-tag-table.png 320w\", \"/commerce-php/static/1e21c68a85943f38d9decd91465303c3/6af66/config-db_cache-tag-table.png 640w\", \"/commerce-php/static/1e21c68a85943f38d9decd91465303c3/9f82e/config-db_cache-tag-table.png 820w\"],\n                \"sizes\": \"(max-width: 820px) 100vw, 820px\",\n                \"type\": \"image/png\"\n              }}></source>{`\n          `}<img parentName=\"picture\" {...{\n                \"className\": \"gatsby-resp-image-image\",\n                \"src\": \"/commerce-php/static/1e21c68a85943f38d9decd91465303c3/9f82e/config-db_cache-tag-table.png\",\n                \"alt\": \"Sample contents of the cache tag table with database caching enabled\",\n                \"title\": \"Sample contents of the cache tag table with database caching enabled\",\n                \"loading\": \"lazy\",\n                \"style\": {\n                  \"width\": \"100%\",\n                  \"height\": \"100%\",\n                  \"margin\": \"0\",\n                  \"verticalAlign\": \"middle\",\n                  \"position\": \"absolute\",\n                  \"opacity\": \"0\",\n                  \"transition\": \"opacity 0.5s\",\n                  \"color\": \"inherit\",\n                  \"boxShadow\": \"inset 0px 0px 0px 400px none\",\n                  \"top\": \"0\",\n                  \"left\": \"0\"\n                }\n              }}></img>{`\n        `}</picture>{`\n    `}</span></p>\n      </li>\n    </ol>\n    <h2 {...{\n      \"id\": \"configuration-examples-mage-cache-db-config\"\n    }}>{`Configuration examples {#mage-cache-db-config}`}</h2>\n    <p>{`This section contains code sample snippets to refer to when configuring database caching.`}</p>\n    <h3 {...{\n      \"id\": \"sample-dixml-for-the-default-cache-frontend-mage-cache-db-config-default\"\n    }}>{`Sample `}<inlineCode parentName=\"h3\">{`di.xml`}</inlineCode>{` for the default cache frontend {#mage-cache-db-config-default}`}</h3>\n    <p><inlineCode parentName=\"p\">{`di.xml`}</inlineCode>{` snippet:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<type name=\"Magento\\\\Framework\\\\App\\\\Cache\\\\Frontend\\\\Pool\">\n    <arguments>\n        <argument name=\"frontendSettings\" xsi:type=\"array\">\n            <item name=\"page_cache\" xsi:type=\"array\">\n                <item name=\"backend\" xsi:type=\"string\">database</item>\n            </item>\n            <item name=\"default\" xsi:type=\"array\">\n                <item name=\"backend\" xsi:type=\"string\">database</item>\n            </item>\n        </argument>\n    </arguments>\n</type>\n<type name=\"Magento\\\\Framework\\\\App\\\\Cache\\\\Type\\\\FrontendPool\">\n    <arguments>\n        <argument name=\"typeFrontendMap\" xsi:type=\"array\">\n            <item name=\"backend\" xsi:type=\"string\">database</item>\n        </argument>\n    </arguments>\n</type>\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"sample-envphp-for-a-custom-cache-frontend-mage-cache-db-config-custom\"\n    }}>{`Sample `}<inlineCode parentName=\"h3\">{`env.php`}</inlineCode>{` for a custom cache frontend {#mage-cache-db-config-custom}`}</h3>\n    <p><inlineCode parentName=\"p\">{`env.php`}</inlineCode>{` snippet that enables all cache types with a custom frontend named `}<inlineCode parentName=\"p\">{`magento_cache`}</inlineCode>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-php\"\n      }}>{`'cache' => [\n    'frontend' => [\n        'magento_cache' => [\n            'backend' => 'database'\n        ],\n    ],\n    'type' => [\n        'config' => [\n            'frontend' => 'magento_cache'\n        ],\n        'layout' => [\n            'frontend' => 'magento_cache'\n        ],\n        'block_html' => [\n            'frontend' => 'magento_cache'\n        ],\n        'view_files_fallback' => [\n            'frontend' => 'magento_cache'\n        ],\n        'view_files_preprocessing' => [\n            'frontend' => 'magento_cache'\n        ],\n        'collections' => [\n            'frontend' => 'magento_cache'\n        ],\n        'db_ddl' => [\n            'frontend' => 'magento_cache'\n        ],\n        'eav' => [\n            'frontend' => 'magento_cache'\n        ],\n        'full_page' => [\n            'frontend' => 'magento_cache'\n        ],\n        'translate' => [\n            'frontend' => 'magento_cache'\n        ],\n        'config_integration' => [\n            'frontend' => 'magento_cache'\n        ],\n        'config_integration_api' => [\n            'frontend' => 'magento_cache'\n        ],\n        'config_webservice' => [\n            'frontend' => 'magento_cache'\n        ],\n    ],\n],\n`}</code></pre>\n    {\n      /* Link references */\n    }\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["name","_frontmatter","InlineAlert","props","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","variant","slots","isMDXComponent"],"sourceRoot":""}