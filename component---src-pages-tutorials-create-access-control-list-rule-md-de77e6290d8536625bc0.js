"use strict";(self.webpackChunkcommerce_php=self.webpackChunkcommerce_php||[]).push([[46927],{17194:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return c},default:function(){return l}});var n=a(87462),r=a(63366),m=(a(15007),a(64983)),o=a(91515),i=["components"],c={},s={_frontmatter:c},d=o.Z;function l(e){var t=e.components,a=(0,r.Z)(e,i);return(0,m.mdx)(d,(0,n.Z)({},s,a,{components:t,mdxType:"MDXLayout"}),(0,m.mdx)("h1",{id:"create-an-access-control-list-acl-rule"},"Create an access control list (ACL) rule"),(0,m.mdx)("p",null,"Access Control List (ACL) rules allow an admin to limit the permissions of users. For example, you can use ACL rules to authorize the users to access menus, controllers, API endpoints and conditionally render ",(0,m.mdx)("a",{parentName:"p",href:"https://glossary.magento.com/layout"},"layout")," ",(0,m.mdx)("a",{parentName:"p",href:"https://glossary.magento.com/block"},"blocks"),"."),(0,m.mdx)("p",null,"In this tutorial, we are creating four custom resources (Custom Menu, Create, Delete, View), then creating a role that has access to these resources, and taking steps to restrict access by four entities (Admin users, controllers, web APIs and layout block)."),(0,m.mdx)("h2",{id:"step-1-define-the-custom-resources"},"Step 1. Define the custom resources"),(0,m.mdx)("ol",null,(0,m.mdx)("li",{parentName:"ol"},(0,m.mdx)("p",{parentName:"li"},"Create the ",(0,m.mdx)("inlineCode",{parentName:"p"},"etc/acl.xml")," file in your module. This file adds the custom resources in resource tree."),(0,m.mdx)("pre",{parentName:"li"},(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0"?>\n<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:Acl/etc/acl.xsd">\n   <acl>\n     <resources>\n        <resource id="Magento_Backend::admin">\n           <resource id="Vendor_MyModule::menu" title="Custom Menu" sortOrder="10" >\n              <resource id="Vendor_MyModule::create" title="Create" sortOrder="50" />\n              <resource id="Vendor_MyModule::delete" title="Delete" sortOrder="100" />\n              <resource id="Vendor_MyModule::view" title="View" sortOrder="150">\n                 <resource id="Vendor_MyModule::view_additional" title="View Additional Information" sortOrder="10" />\n              </resource>\n           </resource>\n        </resource>\n     </resources>\n   </acl>\n</config>\n')),(0,m.mdx)("table",{parentName:"li"},(0,m.mdx)("thead",{parentName:"table"},(0,m.mdx)("tr",{parentName:"thead"},(0,m.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,m.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,m.mdx)("tbody",{parentName:"table"},(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"id")),(0,m.mdx)("td",{parentName:"tr",align:null},"Unique string. Should be in the format ",(0,m.mdx)("inlineCode",{parentName:"td"},"Vendor_ModuleName::resourceName"))),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"title")),(0,m.mdx)("td",{parentName:"tr",align:null},"Title which is displayed in the menu bar")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"sortOrder")),(0,m.mdx)("td",{parentName:"tr",align:null},"Position in which menu is displayed"))))),(0,m.mdx)("li",{parentName:"ol"},(0,m.mdx)("p",{parentName:"li"},"Clean the cache by clicking ",(0,m.mdx)("strong",{parentName:"p"},"System")," > ",(0,m.mdx)("strong",{parentName:"p"},"Cache Management")," > ",(0,m.mdx)("strong",{parentName:"p"},"Flush Magento Cache")," or by entering the following command:"),(0,m.mdx)("pre",{parentName:"li"},(0,m.mdx)("code",{parentName:"pre",className:"language-bash"},"bin/magento cache:clean\n"))),(0,m.mdx)("li",{parentName:"ol"},(0,m.mdx)("p",{parentName:"li"},"Navigate to ",(0,m.mdx)("strong",{parentName:"p"},"System")," > Permissions > ",(0,m.mdx)("strong",{parentName:"p"},"User Roles"),".")),(0,m.mdx)("li",{parentName:"ol"},(0,m.mdx)("p",{parentName:"li"},"After clicking the ",(0,m.mdx)("strong",{parentName:"p"},"Add New Role")," button, enter values for ",(0,m.mdx)("strong",{parentName:"p"},"Role Name")," and ",(0,m.mdx)("strong",{parentName:"p"},"Your Password"),".")),(0,m.mdx)("li",{parentName:"ol"},(0,m.mdx)("p",{parentName:"li"},"Then, click a Role Resources tab and select ",(0,m.mdx)("strong",{parentName:"p"},"Resource Access as Custom"),"."),(0,m.mdx)("p",{parentName:"li"},(0,m.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1235px"}},"\n      ",(0,m.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"28.750000000000004%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,m.mdx)("picture",{parentName:"span"},"\n          ",(0,m.mdx)("source",{parentName:"picture",srcSet:["/commerce-php/static/1ff13e24c26f38117a94e8fe8e59829e/cb523/resource-access-custom-create-acl-rule.webp 320w","/commerce-php/static/1ff13e24c26f38117a94e8fe8e59829e/797b9/resource-access-custom-create-acl-rule.webp 640w","/commerce-php/static/1ff13e24c26f38117a94e8fe8e59829e/72670/resource-access-custom-create-acl-rule.webp 1235w"],sizes:"(max-width: 1235px) 100vw, 1235px",type:"image/webp"}),"\n          ",(0,m.mdx)("source",{parentName:"picture",srcSet:["/commerce-php/static/1ff13e24c26f38117a94e8fe8e59829e/72799/resource-access-custom-create-acl-rule.png 320w","/commerce-php/static/1ff13e24c26f38117a94e8fe8e59829e/6af66/resource-access-custom-create-acl-rule.png 640w","/commerce-php/static/1ff13e24c26f38117a94e8fe8e59829e/7e11a/resource-access-custom-create-acl-rule.png 1235w"],sizes:"(max-width: 1235px) 100vw, 1235px",type:"image/png"}),"\n          ",(0,m.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/commerce-php/static/1ff13e24c26f38117a94e8fe8e59829e/7e11a/resource-access-custom-create-acl-rule.png",alt:"Resource access as custom",title:"Resource access as custom",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    "))),(0,m.mdx)("li",{parentName:"ol"},(0,m.mdx)("p",{parentName:"li"},"Select the ",(0,m.mdx)("strong",{parentName:"p"},"Custom Menu"),", ",(0,m.mdx)("strong",{parentName:"p"},"Create"),", and ",(0,m.mdx)("strong",{parentName:"p"},"Delete")," resources and save the role."),(0,m.mdx)("p",{parentName:"li"},(0,m.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1232px"}},"\n      ",(0,m.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"50.31250000000001%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,m.mdx)("picture",{parentName:"span"},"\n          ",(0,m.mdx)("source",{parentName:"picture",srcSet:["/commerce-php/static/029b673123ad0e171f2fde01038141bb/cb523/role-resources-create-acl-rule.webp 320w","/commerce-php/static/029b673123ad0e171f2fde01038141bb/797b9/role-resources-create-acl-rule.webp 640w","/commerce-php/static/029b673123ad0e171f2fde01038141bb/e516e/role-resources-create-acl-rule.webp 1232w"],sizes:"(max-width: 1232px) 100vw, 1232px",type:"image/webp"}),"\n          ",(0,m.mdx)("source",{parentName:"picture",srcSet:["/commerce-php/static/029b673123ad0e171f2fde01038141bb/72799/role-resources-create-acl-rule.png 320w","/commerce-php/static/029b673123ad0e171f2fde01038141bb/6af66/role-resources-create-acl-rule.png 640w","/commerce-php/static/029b673123ad0e171f2fde01038141bb/1628f/role-resources-create-acl-rule.png 1232w"],sizes:"(max-width: 1232px) 100vw, 1232px",type:"image/png"}),"\n          ",(0,m.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/commerce-php/static/029b673123ad0e171f2fde01038141bb/1628f/role-resources-create-acl-rule.png",alt:"Resource tree",title:"Resource tree",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")))),(0,m.mdx)("h2",{id:"step-2-restrict-access-to-admin-users"},"Step 2. Restrict access to Admin users"),(0,m.mdx)("h3",{id:"restrict-the-admin-menu"},"Restrict the admin menu"),(0,m.mdx)("p",null,"In your module, create the ",(0,m.mdx)("inlineCode",{parentName:"p"},"etc/adminhtml/menu.xml")," file. This file defines a menu that will be hidden from unauthorized users. The ",(0,m.mdx)("inlineCode",{parentName:"p"},"resource")," attributes in the ",(0,m.mdx)("inlineCode",{parentName:"p"},"add")," nodes determine which resource each action accesses."),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0"?>\n<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Backend:etc/menu.xsd">\n    <menu>\n     <add id="Vendor_MyModule::menu" title="Custom Menu" module="Vendor_MyModule" sortOrder="10" resource="Vendor_MyModule::menu"/>\n     <add id="Vendor_MyModule::create" title="Create" module="Vendor_MyModule" sortOrder="10" parent="Vendor_MyModule::menu" action="custommenu/create/index" resource="Vendor_MyModule::create"/>\n     <add id="Vendor_MyModule::delete" title="Delete" module="Vendor_MyModule" sortOrder="20" parent="Vendor_MyModule::menu" action="custommenu/delete/index" resource="Vendor_MyModule::delete"/>\n     <add id="Vendor_MyModule::view" title="View" module="Vendor_MyModule" sortOrder="30" parent="Vendor_MyModule::menu" action="custommenu/view/index" resource="Vendor_MyModule::view"/>\n    </menu>\n</config>\n')),(0,m.mdx)("table",null,(0,m.mdx)("thead",{parentName:"table"},(0,m.mdx)("tr",{parentName:"thead"},(0,m.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,m.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,m.mdx)("tbody",{parentName:"table"},(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"id")),(0,m.mdx)("td",{parentName:"tr",align:null},"Unique string. Should be in the format: ",(0,m.mdx)("inlineCode",{parentName:"td"},"Vendor_ModuleName::resourceName"))),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"title")),(0,m.mdx)("td",{parentName:"tr",align:null},"Title which is displayed in menu bar")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"module")),(0,m.mdx)("td",{parentName:"tr",align:null},"Module which containing the current menu")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"sortOrder")),(0,m.mdx)("td",{parentName:"tr",align:null},"Position in which menu to be displayed")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"parent")),(0,m.mdx)("td",{parentName:"tr",align:null},"The another menu which is parent of current menu")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"action")),(0,m.mdx)("td",{parentName:"tr",align:null},"Url of the page which needs to be displayed after clicking the menu. It should be in following format: ",(0,m.mdx)("inlineCode",{parentName:"td"},"front_name/controller_path/action"))),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"resource")),(0,m.mdx)("td",{parentName:"tr",align:null},"ACL rule to restrict the access")))),(0,m.mdx)("p",null,"Clean the cache by clicking ",(0,m.mdx)("strong",{parentName:"p"},"System")," > ",(0,m.mdx)("strong",{parentName:"p"},"Cache Management")," > ",(0,m.mdx)("strong",{parentName:"p"},"Flush Magento Cache")," or by entering the following command:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-bash"},"bin/magento cache:clean\n")),(0,m.mdx)("p",null,"The menu displays as follows:"),(0,m.mdx)("p",null,(0,m.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"784px"}},"\n      ",(0,m.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"66.875%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,m.mdx)("picture",{parentName:"span"},"\n          ",(0,m.mdx)("source",{parentName:"picture",srcSet:["/commerce-php/static/e8a55a7be4c036279716744e897ec5d5/cb523/custom_menu.webp 320w","/commerce-php/static/e8a55a7be4c036279716744e897ec5d5/797b9/custom_menu.webp 640w","/commerce-php/static/e8a55a7be4c036279716744e897ec5d5/36a02/custom_menu.webp 784w"],sizes:"(max-width: 784px) 100vw, 784px",type:"image/webp"}),"\n          ",(0,m.mdx)("source",{parentName:"picture",srcSet:["/commerce-php/static/e8a55a7be4c036279716744e897ec5d5/cb69c/custom_menu.jpg 320w","/commerce-php/static/e8a55a7be4c036279716744e897ec5d5/c08c5/custom_menu.jpg 640w","/commerce-php/static/e8a55a7be4c036279716744e897ec5d5/caf7d/custom_menu.jpg 784w"],sizes:"(max-width: 784px) 100vw, 784px",type:"image/jpeg"}),"\n          ",(0,m.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/commerce-php/static/e8a55a7be4c036279716744e897ec5d5/caf7d/custom_menu.jpg",alt:"custom menu",title:"custom menu",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,m.mdx)("h3",{id:"restrict-admin-controllers"},"Restrict admin controllers"),(0,m.mdx)("p",null,"We can restrict the access to admin controllers by setting the ",(0,m.mdx)("inlineCode",{parentName:"p"},"ADMIN_RESOURCE")," constant."),(0,m.mdx)("p",null,"Add the following to your module's ",(0,m.mdx)("inlineCode",{parentName:"p"},"Controller/Adminhtml/Create/Index.php")," file:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-php"},"const ADMIN_RESOURCE = 'Vendor_MyModule::create'\n")),(0,m.mdx)("p",null,"Add the following to your module's ",(0,m.mdx)("inlineCode",{parentName:"p"},"Controller/Adminhtml/Delete/Index.php")," file:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-php"},"const ADMIN_RESOURCE = 'Vendor_MyModule::delete';\n")),(0,m.mdx)("p",null,'If the user does not have permission, the action page displays an "Access Denied" message.'),(0,m.mdx)("h3",{id:"content-restrictions-for-admin-users"},"Content restrictions for admin users"),(0,m.mdx)("p",null,"With the ACL it is also possible to ",(0,m.mdx)("a",{parentName:"p",href:"https://devdocs.magento.com/guides/v2.4/frontend-dev-guide/layouts/xml-manage.html#ref_config_block"},"render layout blocks dynamically")," on the page."),(0,m.mdx)("p",null,"It is enough to set the block's value for ",(0,m.mdx)("inlineCode",{parentName:"p"},"aclResource")," attribute:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<block class="Vendor\\MyModule\\Block\\Adminhtml\\Type" name="block.example" aclResource="Vendor_MyModule::view_additional">\n    \x3c!-- ... --\x3e\n</block>\n')),(0,m.mdx)("p",null,"The ",(0,m.mdx)("inlineCode",{parentName:"p"},"view/adminhtml/layout/custommenu_view_index.xml")," example file below contains two blocks that display information to the end-user, one of which is accessible only to users with ACL ",(0,m.mdx)("inlineCode",{parentName:"p"},"Vendor_MyModule::view_additional")," permissions."),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0"?>\n<page xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:View/Layout/etc/page_configuration.xsd">\n    <referenceBlock name="page.title">\n        <action method="setPageTitle">\n            <argument name="title" xsi:type="string">View</argument>\n        </action>\n    </referenceBlock>\n    <body>\n        <referenceContainer name="content">\n            <block class="Magento\\Framework\\View\\Element\\Text">\n                <arguments>\n                    <argument name="text" xsi:type="string">Page Content </argument>\n                </arguments>\n            </block>\n            <block class="Magento\\Framework\\View\\Element\\Text" aclResource="Vendor_Module::view_additional">\n                <arguments>\n                    <argument name="text" xsi:type="string"> - additional</argument>\n                </arguments>\n            </block>\n        </referenceContainer>\n    </body>\n</page>\n')),(0,m.mdx)("p",null,"When the ACL resource for ",(0,m.mdx)("inlineCode",{parentName:"p"},"Vendor_ModuleName::view_additional")," is enabled, the result is:"),(0,m.mdx)("p",null,(0,m.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"804px"}},"\n      ",(0,m.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"31.25%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,m.mdx)("picture",{parentName:"span"},"\n          ",(0,m.mdx)("source",{parentName:"picture",srcSet:["/commerce-php/static/8e63023511bca5d0578a7f1cc0a9cb2e/cb523/acl-admin-page-content-full-access.webp 320w","/commerce-php/static/8e63023511bca5d0578a7f1cc0a9cb2e/797b9/acl-admin-page-content-full-access.webp 640w","/commerce-php/static/8e63023511bca5d0578a7f1cc0a9cb2e/511d4/acl-admin-page-content-full-access.webp 804w"],sizes:"(max-width: 804px) 100vw, 804px",type:"image/webp"}),"\n          ",(0,m.mdx)("source",{parentName:"picture",srcSet:["/commerce-php/static/8e63023511bca5d0578a7f1cc0a9cb2e/cb69c/acl-admin-page-content-full-access.jpg 320w","/commerce-php/static/8e63023511bca5d0578a7f1cc0a9cb2e/c08c5/acl-admin-page-content-full-access.jpg 640w","/commerce-php/static/8e63023511bca5d0578a7f1cc0a9cb2e/60398/acl-admin-page-content-full-access.jpg 804w"],sizes:"(max-width: 804px) 100vw, 804px",type:"image/jpeg"}),"\n          ",(0,m.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/commerce-php/static/8e63023511bca5d0578a7f1cc0a9cb2e/60398/acl-admin-page-content-full-access.jpg",alt:"admin page full content",title:"admin page full content",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,m.mdx)("p",null,"When the ACL resource is disabled, the content on the page differs:"),(0,m.mdx)("p",null,(0,m.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"844px"}},"\n      ",(0,m.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"29.6875%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,m.mdx)("picture",{parentName:"span"},"\n          ",(0,m.mdx)("source",{parentName:"picture",srcSet:["/commerce-php/static/4f80da074c91303eccaf330d49b9fd86/cb523/acl-admin-limited-page-content.webp 320w","/commerce-php/static/4f80da074c91303eccaf330d49b9fd86/797b9/acl-admin-limited-page-content.webp 640w","/commerce-php/static/4f80da074c91303eccaf330d49b9fd86/de2f6/acl-admin-limited-page-content.webp 844w"],sizes:"(max-width: 844px) 100vw, 844px",type:"image/webp"}),"\n          ",(0,m.mdx)("source",{parentName:"picture",srcSet:["/commerce-php/static/4f80da074c91303eccaf330d49b9fd86/cb69c/acl-admin-limited-page-content.jpg 320w","/commerce-php/static/4f80da074c91303eccaf330d49b9fd86/c08c5/acl-admin-limited-page-content.jpg 640w","/commerce-php/static/4f80da074c91303eccaf330d49b9fd86/b040c/acl-admin-limited-page-content.jpg 844w"],sizes:"(max-width: 844px) 100vw, 844px",type:"image/jpeg"}),"\n          ",(0,m.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/commerce-php/static/4f80da074c91303eccaf330d49b9fd86/b040c/acl-admin-limited-page-content.jpg",alt:"admin page content limited",title:"admin page content limited",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,m.mdx)("h2",{id:"step-3-restrict-web-api-access"},"Step 3. Restrict web API access"),(0,m.mdx)("p",null,"We can restrict users from accessing API endpoints by using the ACL rule. By creating a Web API configuration file (",(0,m.mdx)("inlineCode",{parentName:"p"},"etc/webapi.xml"),"), the rules defined in ",(0,m.mdx)("inlineCode",{parentName:"p"},"acl.xml")," can restrict the access to API endpoints."),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<?xml version = "1.0"?>\n<routes xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n        xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Webapi:etc/webapi.xsd">\n    <route url="/V1/admin/create" method="POST">\n        <service class="Vendor\\MyModule\\Api\\Create" method="execute"/>\n        <resources>\n            <resource ref="Vendor_MyModule::create" />\n        </resources>\n    </route>\n</routes>\n')))}l.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-tutorials-create-access-control-list-rule-md-de77e6290d8536625bc0.js.map