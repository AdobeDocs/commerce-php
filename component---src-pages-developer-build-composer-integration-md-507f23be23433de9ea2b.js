"use strict";(self.webpackChunkcommerce_php=self.webpackChunkcommerce_php||[]).push([[8283],{64730:function(e,n,o){o.r(n),o.d(n,{_frontmatter:function(){return i},default:function(){return x}});var a,m=o(87462),t=o(63366),p=(o(15007),o(64983)),r=o(91515),d=["components"],i={},l=(a="InlineAlert",function(e){return console.warn("Component "+a+" was not imported, exported, or provided by MDXProvider as global scope"),(0,p.mdx)("div",e)}),s={_frontmatter:i},c=r.Z;function x(e){var n=e.components,o=(0,t.Z)(e,d);return(0,p.mdx)(c,(0,m.Z)({},s,o,{components:n,mdxType:"MDXLayout"}),(0,p.mdx)("h1",{id:"composer-integration"},"Composer integration"),(0,p.mdx)("p",null,"Adobe Commerce and Magento Open Source use ",(0,p.mdx)("a",{parentName:"p",href:"https://getcomposer.org/"},"Composer"),", a ",(0,p.mdx)("a",{parentName:"p",href:"https://glossary.magento.com/php"},"PHP")," dependency manager, to package components and product editions."),(0,p.mdx)("p",null,"Composer reads a ",(0,p.mdx)("inlineCode",{parentName:"p"},"composer.json")," file in Magento's root directory to download third-party dependencies listed in the file."),(0,p.mdx)("p",null,"We recommend you include ",(0,p.mdx)("inlineCode",{parentName:"p"},"composer.json")," in your component's root directory even if you do not intend to distribute it to other merchants using Magento."),(0,p.mdx)(l,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,p.mdx)("p",null,"Adobe Commerce and Magento Open Source do not support the ",(0,p.mdx)("a",{parentName:"p",href:"https://getcomposer.org/doc/05-repositories.md#path"},(0,p.mdx)("inlineCode",{parentName:"a"},"path"))," repository."),(0,p.mdx)("p",null,"Here is an example of the ",(0,p.mdx)("inlineCode",{parentName:"p"},"composer.json")," file."),(0,p.mdx)("pre",null,(0,p.mdx)("code",{parentName:"pre",className:"language-json"},' {\n   "name": "mycompany/sample-module-minimal",\n   "description": "A module that creates a page in the admin area",\n   "type": "magento2-module",\n   "version": "1.0.0",\n   "license": [\n     "OSL-3.0",\n     "AFL-3.0"\n   ],\n   "require": {\n     "php": "~7.3.0||~7.4.0"\n   },\n   "autoload": {\n     "files": [ "registration.php" ],\n     "psr-4": {\n       "MyCompany\\\\ExampleAdminNewPage\\\\": ""\n     }\n   }\n }\n')),(0,p.mdx)("h2",{id:"composer-binary-location"},"Composer binary location"),(0,p.mdx)("p",null,"Adobe Commerce and Magento Open Source use the Composer binary in the ",(0,p.mdx)("inlineCode",{parentName:"p"},"<Application root>/vendor/composer")," directory instead of a globally installed ",(0,p.mdx)("a",{parentName:"p",href:"https://glossary.magento.com/composer"},"composer"),"."),(0,p.mdx)("p",null,"Keep this in mind while customizing, updating, or troubleshooting Composer while working with Adobe Commerce and Magento Open Source."),(0,p.mdx)("h2",{id:"project-vs-product"},"Project vs product"),(0,p.mdx)("p",null,'In Composer, a "project" package is a template used by the ',(0,p.mdx)("a",{parentName:"p",href:"https://getcomposer.org/doc/03-cli.md#create-project"},(0,p.mdx)("inlineCode",{parentName:"a"},"composer create-project"))," to set up the project structure.\nThe ",(0,p.mdx)("a",{parentName:"p",href:"https://devdocs.magento.com/guides/v2.4/install-gde/composer.html"},"installation instructions for system integrators")," use the Magento Open Source and Adobe Commerce project packages to set up the directory structure."),(0,p.mdx)("p",null,'A "product" package is the actual application pointed to by the ',(0,p.mdx)("inlineCode",{parentName:"p"},"composer.json")," file after you download and install the project package using ",(0,p.mdx)("inlineCode",{parentName:"p"},"composer create-project"),"."),(0,p.mdx)("h2",{id:"types-of-composer-files"},"Types of Composer files"),(0,p.mdx)("p",null,"The following components and product editions use a ",(0,p.mdx)("inlineCode",{parentName:"p"},"composer.json")," file."),(0,p.mdx)("h3",{id:"root"},"Root"),(0,p.mdx)("p",null,(0,p.mdx)("strong",{parentName:"p"},"Location:")," ",(0,p.mdx)("inlineCode",{parentName:"p"},"composer.json")),(0,p.mdx)("p",null,(0,p.mdx)("strong",{parentName:"p"},"Name:")," ",(0,p.mdx)("inlineCode",{parentName:"p"},"magento/magento2ce")),(0,p.mdx)("p",null,(0,p.mdx)("strong",{parentName:"p"},"Type:")," ",(0,p.mdx)("inlineCode",{parentName:"p"},"project")),(0,p.mdx)("p",null,"This is the main ",(0,p.mdx)("inlineCode",{parentName:"p"},"composer.json")," file, which declares dependencies and third-party components."),(0,p.mdx)("p",null,"Other root ",(0,p.mdx)("inlineCode",{parentName:"p"},"composer.json")," files use this file as a template."),(0,p.mdx)("hr",null),(0,p.mdx)("h3",{id:"magento-open-source-project"},"Magento Open Source project"),(0,p.mdx)("p",null,(0,p.mdx)("strong",{parentName:"p"},"Location:")," ",(0,p.mdx)("inlineCode",{parentName:"p"},"composer.json")),(0,p.mdx)("p",null,(0,p.mdx)("strong",{parentName:"p"},"Name:")," ",(0,p.mdx)("inlineCode",{parentName:"p"},"magento/project-community-edition")),(0,p.mdx)("p",null,(0,p.mdx)("strong",{parentName:"p"},"Type:")," ",(0,p.mdx)("inlineCode",{parentName:"p"},"project")),(0,p.mdx)("p",null,"System integrators use this ",(0,p.mdx)("inlineCode",{parentName:"p"},"composer.json")," file to deploy the Magento Open Source product and its dependencies."),(0,p.mdx)("hr",null),(0,p.mdx)("h3",{id:"adobe-commerce-project"},"Adobe Commerce project"),(0,p.mdx)("p",null,(0,p.mdx)("strong",{parentName:"p"},"Location:")," ",(0,p.mdx)("inlineCode",{parentName:"p"},"composer.json")),(0,p.mdx)("p",null,(0,p.mdx)("strong",{parentName:"p"},"Name:")," ",(0,p.mdx)("inlineCode",{parentName:"p"},"magento/product-enterprise-edition")),(0,p.mdx)("p",null,(0,p.mdx)("strong",{parentName:"p"},"Type:")," ",(0,p.mdx)("inlineCode",{parentName:"p"},"metapackage")),(0,p.mdx)("p",null,"System integrators use this ",(0,p.mdx)("inlineCode",{parentName:"p"},"composer.json")," file to deploy the Adobe Commerce product and its dependencies."),(0,p.mdx)("hr",null),(0,p.mdx)("h3",{id:"commerce-framework"},"Commerce framework"),(0,p.mdx)("p",null,(0,p.mdx)("strong",{parentName:"p"},"Location:")," ",(0,p.mdx)("inlineCode",{parentName:"p"},"lib/internal/Magento/Framework/composer.json")),(0,p.mdx)("p",null,(0,p.mdx)("strong",{parentName:"p"},"Name:")," ",(0,p.mdx)("inlineCode",{parentName:"p"},"magento/framework")),(0,p.mdx)("p",null,(0,p.mdx)("strong",{parentName:"p"},"Type:")," ",(0,p.mdx)("inlineCode",{parentName:"p"},"magento2-library")),(0,p.mdx)("p",null,"The Adobe Commerce and Magento Open Source applications uses this ",(0,p.mdx)("inlineCode",{parentName:"p"},"composer.json")," file for its framework packages."),(0,p.mdx)("hr",null),(0,p.mdx)("h3",{id:"module"},"Module"),(0,p.mdx)("p",null,(0,p.mdx)("strong",{parentName:"p"},"Locations:")),(0,p.mdx)("ul",null,(0,p.mdx)("li",{parentName:"ul"},(0,p.mdx)("inlineCode",{parentName:"li"},"app/code/<vendor-name>/<module-name>/composer.json")),(0,p.mdx)("li",{parentName:"ul"},(0,p.mdx)("inlineCode",{parentName:"li"},"vendor/<vendor-name>/<module-name>/composer.json"))),(0,p.mdx)("p",null,(0,p.mdx)("strong",{parentName:"p"},"Name:")," ",(0,p.mdx)("inlineCode",{parentName:"p"},"<vendor-name>/<package-name>")),(0,p.mdx)("p",null,(0,p.mdx)("strong",{parentName:"p"},"Type:")," ",(0,p.mdx)("inlineCode",{parentName:"p"},"magento2-module")),(0,p.mdx)("p",null,"The ",(0,p.mdx)("inlineCode",{parentName:"p"},"composer.json")," file for a ",(0,p.mdx)("a",{parentName:"p",href:"https://glossary.magento.com/module"},"module")," extension declares external dependencies that it needs to function."),(0,p.mdx)("hr",null),(0,p.mdx)("h3",{id:"theme"},"Theme"),(0,p.mdx)("p",null,(0,p.mdx)("strong",{parentName:"p"},"Locations:")),(0,p.mdx)("ul",null,(0,p.mdx)("li",{parentName:"ul"},(0,p.mdx)("inlineCode",{parentName:"li"},"app/design/frontend/<vendor-name>/<theme-name>/composer.json")),(0,p.mdx)("li",{parentName:"ul"},(0,p.mdx)("inlineCode",{parentName:"li"},"app/design/adminhtml/<vendor-name>/<theme-name>/composer.json"))),(0,p.mdx)("p",null,(0,p.mdx)("strong",{parentName:"p"},"Name:")," ",(0,p.mdx)("inlineCode",{parentName:"p"},"<vendor-name>/<package-name>")),(0,p.mdx)("p",null,(0,p.mdx)("strong",{parentName:"p"},"Type:")," ",(0,p.mdx)("inlineCode",{parentName:"p"},"magento2-theme")),(0,p.mdx)("p",null,"The ",(0,p.mdx)("inlineCode",{parentName:"p"},"composer.json")," file for a ",(0,p.mdx)("a",{parentName:"p",href:"https://glossary.magento.com/theme"},"theme")," component contains parent theme dependencies the extension needs to inherit."),(0,p.mdx)("hr",null),(0,p.mdx)("h3",{id:"language-package"},"Language package"),(0,p.mdx)("p",null,(0,p.mdx)("strong",{parentName:"p"},"Location:"),"\n",(0,p.mdx)("inlineCode",{parentName:"p"},"app/i18n/<vendor-name>/<language-code>/composer.json")),(0,p.mdx)("p",null,(0,p.mdx)("strong",{parentName:"p"},"Name:")," ",(0,p.mdx)("inlineCode",{parentName:"p"},"<vendor-name>/<package-name>")),(0,p.mdx)("p",null,(0,p.mdx)("strong",{parentName:"p"},"Type:")," ",(0,p.mdx)("inlineCode",{parentName:"p"},"magento2-language")),(0,p.mdx)("p",null,"For language packages, you must use the correct ",(0,p.mdx)("a",{parentName:"p",href:"https://www.iso.org/iso-639-language-codes.html"},"ISO code")," for the language code in the ",(0,p.mdx)("inlineCode",{parentName:"p"},"composer.json")," file."),(0,p.mdx)("hr",null),(0,p.mdx)("h2",{id:"magento-specific-package-types"},"Magento-specific package types"),(0,p.mdx)("p",null,"Extensions can be any of the following types:"),(0,p.mdx)("ul",null,(0,p.mdx)("li",{parentName:"ul"},(0,p.mdx)("inlineCode",{parentName:"li"},"magento2-module")," for modules"),(0,p.mdx)("li",{parentName:"ul"},(0,p.mdx)("inlineCode",{parentName:"li"},"magento2-theme")," for themes"),(0,p.mdx)("li",{parentName:"ul"},(0,p.mdx)("inlineCode",{parentName:"li"},"magento2-language")," for language packages"),(0,p.mdx)("li",{parentName:"ul"},(0,p.mdx)("inlineCode",{parentName:"li"},"magento2-component")," for general extensions that do not fit any of the other types")),(0,p.mdx)("p",null,"The extension type tells the system where to install the directories and files of each extension in the directory structure."),(0,p.mdx)("h2",{id:"naming-conventions"},"Naming conventions"),(0,p.mdx)("p",null,"Since the namespace of a Composer package is global within a package repository, e.g. ",(0,p.mdx)("a",{parentName:"p",href:"https://packagist.org/"},"packagist.org"),", use the following format when naming your package:"),(0,p.mdx)("p",null,(0,p.mdx)("inlineCode",{parentName:"p"},"<vendor-name>/<package-name>")),(0,p.mdx)("p",null,"Using the Composer naming convention helps distinguish packages from different vendors with a low risk of overlapping."),(0,p.mdx)("h3",{id:"vendor-name"},"vendor-name"),(0,p.mdx)("p",null,"All letters in the vendor name must be in lowercase.\nFor example, the vendor name format for extensions released by Adobe is ",(0,p.mdx)("inlineCode",{parentName:"p"},"magento"),"."),(0,p.mdx)("h4",{id:"commerce-marketplace-extensions"},"Commerce Marketplace extensions"),(0,p.mdx)("p",null,"Commerce Marketplace uses ",(0,p.mdx)("inlineCode",{parentName:"p"},"vendor-name")," to match an extension to a vendor during the extension submission process.\nIf you plan to submit your extension to the ",(0,p.mdx)("a",{parentName:"p",href:"https://marketplace.magento.com"},"Commerce Marketplace"),", you ",(0,p.mdx)("em",{parentName:"p"},"must")," use the unique Vendor Name created or assigned to you when you created your marketplace account."),(0,p.mdx)("p",null,"In the ",(0,p.mdx)("inlineCode",{parentName:"p"},"composer.json")," file, use the value of 'Vendor Name' in your profile for the ",(0,p.mdx)("inlineCode",{parentName:"p"},"vendor-name")," part of the extension name."),(0,p.mdx)("p",null,"Please see the ",(0,p.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/commerce/marketplace/guides/sellers/profile-company/"},"Marketplace Documentation")," for more information about your unique vendor name."),(0,p.mdx)("h3",{id:"package-name"},"package-name"),(0,p.mdx)("p",null,"All letters in the ",(0,p.mdx)("inlineCode",{parentName:"p"},"package-name")," must be in lowercase."),(0,p.mdx)("p",null,"If the name contains more than one word, the Composer specification recommends separating them with dashes."),(0,p.mdx)("p",null,"The convention for Magento package names is the following"),(0,p.mdx)("p",null,(0,p.mdx)("inlineCode",{parentName:"p"},"magento/<type-prefix>-<suffix>[-<suffix>]...")),(0,p.mdx)("p",null,"Where:"),(0,p.mdx)("p",null,":",(0,p.mdx)("inlineCode",{parentName:"p"},"type-prefix")," is any of the extension types:"),(0,p.mdx)("ul",null,(0,p.mdx)("li",{parentName:"ul"},(0,p.mdx)("inlineCode",{parentName:"li"},"module-")," for module extensions"),(0,p.mdx)("li",{parentName:"ul"},(0,p.mdx)("inlineCode",{parentName:"li"},"theme-")," for theme extensions"),(0,p.mdx)("li",{parentName:"ul"},(0,p.mdx)("inlineCode",{parentName:"li"},"language-")," for language extensions"),(0,p.mdx)("li",{parentName:"ul"},(0,p.mdx)("inlineCode",{parentName:"li"},"product-")," for ",(0,p.mdx)("a",{parentName:"li",href:"../package/component.md#metapackage-example"},"metapackages")," such as Magento Open Source or Adobe Commerce")),(0,p.mdx)("p",null,": ",(0,p.mdx)("inlineCode",{parentName:"p"},"suffix")," is a unique identifier for extensions of that type."),(0,p.mdx)("h2",{id:"versioning"},"Versioning"),(0,p.mdx)("p",null,"Components have the following types of versions:"),(0,p.mdx)("ul",null,(0,p.mdx)("li",{parentName:"ul"},(0,p.mdx)("p",{parentName:"li"},"Marketing version; in other words, the version the merchant interacts with."),(0,p.mdx)("p",{parentName:"li"},"Your initial version might be 1.0.0 or 2.0.0, for example. You should follow ",(0,p.mdx)("a",{parentName:"p",href:"../versioning/index.md"},"our versioning policy")," guidelines when setting your version.")),(0,p.mdx)("li",{parentName:"ul"},(0,p.mdx)("p",{parentName:"li"},"Composer version; in other words, the version of each module, theme, language package, third-party package, and dependencies."))),(0,p.mdx)("p",null,"Using Adobe Commerce and Magento Open Source code as an example, marketing version 2.0.0 includes component versions such as 100.0.1, 100.0.2, and so on. These versioning strategy prevents collisions between the marketing version and component versions."))}x.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-developer-build-composer-integration-md-507f23be23433de9ea2b.js.map