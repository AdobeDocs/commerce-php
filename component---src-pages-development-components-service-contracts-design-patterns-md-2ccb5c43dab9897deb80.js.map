{"version":3,"file":"component---src-pages-development-components-service-contracts-design-patterns-md-2ccb5c43dab9897deb80.js","mappings":"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","sources":["webpack://commerce-php/./src/pages/development/components/service-contracts/design-patterns.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/commerce-php/commerce-php/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst InlineAlert = makeShortcode(\"InlineAlert\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"service-contract-design-patterns\"\n    }}>{`Service contract design patterns`}</h1>\n    <p>{`In the programming community, a `}<em parentName=\"p\">{`design pattern`}</em>{` is a recommended way of writing code that includes when to use, or not use, the pattern. Think of a design pattern as a best practice with conditions.`}</p>\n    <p>{`Design patterns for service contracts tell you which types of interfaces to define, and how and where to define and implement those interfaces.`}</p>\n    <InlineAlert variant=\"info\" slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`Service contract data interfaces are now mutable.`}</p>\n    <h2 {...{\n      \"id\": \"interface-types-and-locations\"\n    }}>{`Interface types and locations`}</h2>\n    <p>{`A service contract must define data interfaces, which preserve data integrity, and service interfaces, which hide business logic from service requestors.`}</p>\n    <p>{`Data interfaces define functions that return information about data entities, return search results, and set validation rules and return validation results. You must define the data interfaces for a service contract in the `}<inlineCode parentName=\"p\">{`Api/Data`}</inlineCode>{` subdirectory for a module.`}</p>\n    <p>{`Service interfaces include management, repository, and metadata interfaces.\nYou must define the service interfaces for a service contract in the `}<inlineCode parentName=\"p\">{`Api`}</inlineCode>{` subdirectory for a module.`}</p>\n    <h3 {...{\n      \"id\": \"data-interfaces\"\n    }}>{`Data interfaces`}</h3>\n    <p>{`Define data interfaces in the `}<inlineCode parentName=\"p\">{`Api/Data`}</inlineCode>{` subdirectory for a module.`}</p>\n    <p>{`For example, the data interfaces for the Customer module are in the `}<inlineCode parentName=\"p\">{`/app/code/Magento/Customer/Api/Data`}</inlineCode>{` subdirectory.`}</p>\n    <InlineAlert variant=\"info\" slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/magento2/blob/2.4/lib/internal/Magento/Framework/Api/SimpleDataObjectConverter.php\"\n      }}>{`SimpleDataObjectConverter`}</a>{` follows a strict 'camel case' to 'snake case' conversion of data keys (table columns). You should not use `}<inlineCode parentName=\"p\">{`underscores (_)`}</inlineCode>{` between alphanumerical characters in column names.\nFor example, use `}<inlineCode parentName=\"p\">{`default_shipping1`}</inlineCode>{` instead of `}<inlineCode parentName=\"p\">{`default_shipping_1`}</inlineCode>{`, as the Data Interface method `}<inlineCode parentName=\"p\">{`defaultShipping1`}</inlineCode>{` will be converted into `}<inlineCode parentName=\"p\">{`default_shipping1`}</inlineCode>{`.`}</p>\n    <h3 {...{\n      \"id\": \"data-search-result-interfaces\"\n    }}>{`Data search result interfaces`}</h3>\n    <p>{`When you pass search criteria to a `}<inlineCode parentName=\"p\">{`getList()`}</inlineCode>{` call, a search results interface is returned with the search results.`}</p>\n    <p>{`You must define one interface for each data entity for type hinting purposes. That is, the `}<inlineCode parentName=\"p\">{`getItems()`}</inlineCode>{` function in the\n`}<inlineCode parentName=\"p\">{`CustomerSearchResultsInterface`}</inlineCode>{` returns an array of `}<inlineCode parentName=\"p\">{`CustomerInterface`}</inlineCode>{` data entities.\nIn `}<inlineCode parentName=\"p\">{`GroupSearchResultsInterface`}</inlineCode>{`, the `}<inlineCode parentName=\"p\">{`getItems()`}</inlineCode>{` function returns an array of `}<inlineCode parentName=\"p\">{`GroupInterface`}</inlineCode>{` data entities.`}</p>\n    <h3 {...{\n      \"id\": \"service-interfaces\"\n    }}>{`Service interfaces`}</h3>\n    <p>{`Service interfaces include several interface subtypes:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Repository interfaces`}</li>\n      <li parentName=\"ul\">{`Management interfaces`}</li>\n      <li parentName=\"ul\">{`Metadata interfaces`}</li>\n    </ul>\n    <p>{`For file names and coding standards, follow the defined `}<a parentName=\"p\" {...{\n        \"href\": \"../../../coding-standards/php.md\"\n      }}>{`PHP coding standards`}</a>{`.`}</p>\n    <p>{`Place service interfaces in the top-level `}<inlineCode parentName=\"p\">{`Api`}</inlineCode>{` directory for a module.`}</p>\n    <h3 {...{\n      \"id\": \"repository-interfaces\"\n    }}>{`Repository interfaces`}</h3>\n    <p>{`Repository interfaces provide access to persistent data entities.`}</p>\n    <p>{`For example, persistent data entities for the Customer module include Customer, Address, and Group. Consequently, repository interfaces for the Customer module are:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`CustomerRepositoryInterface`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`AddressRepositoryInterface`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`GroupRepositoryInterface`}</inlineCode></li>\n    </ul>\n    <p>{`Repository interfaces must provide these functions:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Method`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`save(data entity interface)`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`If entity ID is not specified, creates a record. If entity ID is specified, updates the record for the specified ID.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`get(id)`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Performs a database lookup by ID and returns a data entity interface, such as `}<inlineCode parentName=\"td\">{`CustomerInterface`}</inlineCode>{` or `}<inlineCode parentName=\"td\">{`AddressInterface`}</inlineCode>{`.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`getList(search criteria)`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Performs a search for all data entities that match specified search criteria and returns a search result interface that gives access to the set of matches.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`delete(data entity interface)`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Deletes a specified entity. The entity contains the key (ID).`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`deleteById(id)`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Deletes a specified entity by key (ID).`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <p>{`Each data entity has a corresponding interface. Consequently, the `}<inlineCode parentName=\"p\">{`getById()`}</inlineCode>{` function in the corresponding interface, for example, can return the exact type.`}</p>\n    <h3 {...{\n      \"id\": \"management-interfaces\"\n    }}>{`Management interfaces`}</h3>\n    <p>{`Management interfaces provide management functions that are not related to repositories. For example:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Interface`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`AccountManagementInterface`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Defines the `}<inlineCode parentName=\"td\">{`createAccount()`}</inlineCode>{`, `}<inlineCode parentName=\"td\">{`changePassword()`}</inlineCode>{`, `}<inlineCode parentName=\"td\">{`activate()`}</inlineCode>{`, and `}<inlineCode parentName=\"td\">{`isEmailAvailable()`}</inlineCode>{` functions.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`AddressManagementInterface`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Defines the `}<inlineCode parentName=\"td\">{`validate()`}</inlineCode>{` function that validates an address.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h3 {...{\n      \"id\": \"metadata-interfaces\"\n    }}>{`Metadata interfaces`}</h3>\n    <p>{`Metadata interfaces provide methods for retrieving metadata, the interfaces are not related to repositories. For example:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Interface`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`AttributeMetadataInterface`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Provides customer attribute metadata and defines the constants used as keys of data array and methods. See more `}<a parentName=\"td\" {...{\n              \"href\": \"https://github.com/magento/magento2/blob/2.4/app/code/Magento/Customer/Api/Data/AttributeMetadataInterface.php\"\n            }}>{`AttributeMetadataInterface`}</a>{`.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`ProductMetadataInterface`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Provides application product metadata. Defines the `}<inlineCode parentName=\"td\">{`getVersion()`}</inlineCode>{`, `}<inlineCode parentName=\"td\">{`getEdition()`}</inlineCode>{`, `}<inlineCode parentName=\"td\">{`getName()`}</inlineCode>{` methods.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`CustomerMetadataManagementInterface`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Interface for managing customer attributes metadata. Defines the constant `}<inlineCode parentName=\"td\">{`ENTITY_TYPE_CUSTOMER`}</inlineCode>{`.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`AddressMetadataInterface`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Interface for retrieving information about customer address attributes metadata. Defines the constants `}<inlineCode parentName=\"td\">{`ATTRIBUTE_SET_ID_ADDRESS`}</inlineCode>{`, `}<inlineCode parentName=\"td\">{`ENTITY_TYPE_ADDRESS`}</inlineCode>{`, `}<inlineCode parentName=\"td\">{`DATA_INTERFACE_NAME`}</inlineCode>{`.`}</td>\n        </tr>\n      </tbody>\n    </table>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["name","_frontmatter","InlineAlert","props","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","variant","slots","isMDXComponent"],"sourceRoot":""}