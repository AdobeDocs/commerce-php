{"version":3,"file":"987e9e88-08959336386b121520cd.js","mappings":"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","sources":["webpack://commerce-php/./node_modules/@adobe/gatsby-theme-aio/src/components/GetCredential/CredentialForm.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { css } from \"@emotion/react\";\r\nimport '@spectrum-css/contextualhelp/dist/index-vars.css';\r\nimport classNames from \"classnames\";\r\nimport { MyCredential } from './MyCredential';\r\nimport { Loading } from \"./Loading\";\r\nimport { IllustratedMessage } from \"./IllustratedMessage\";\r\nimport { ChangeOrganization } from './ChangeOrganization';\r\nimport { JoinBetaProgram } from './JoinBetaProgram';\r\nimport { AlertIcon, FormFields, getOrganization, MAX_TABLET_SCREEN_WIDTH, MIN_MOBILE_WIDTH } from './FormFields';\r\nimport { ContextHelp } from './ContextHelp';\r\nimport { Toast } from '../Toast';\r\n\r\nconst hostnameRegex = /^(localhost:\\d{1,5}|(\\*\\.|([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+(\\.[a-zA-Z]{2,})+)|\\*|(\\*\\.[a-zA-Z0-9-]+(\\.[a-zA-Z]{2,})+))$/;\r\nconst credentialNameRegex = /^(?=[A-Za-z0-9\\s]{6,}$)[A-Za-z0-9\\s]*$/;\r\n\r\nconst CredentialForm = ({ formProps, credentialType, service }) => {\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [isError, setIsError] = useState(false);\r\n  const [response, setResponse] = useState({});\r\n  const [errResp, setErrorResp] = useState(\"\");\r\n  const [showCreateForm, setShowCreateForm] = useState(true);\r\n  const [showCredential, setShowCredential] = useState(false);\r\n  const [formField, setFormField] = useState([]);\r\n  const [formData, setFormData] = useState({});\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [redirectToBeta, setRedirectBetaProgram] = useState(false);\r\n  const [isValid, setIsValid] = useState(false);\r\n  const [alertShow, setAlertShow] = useState(false);\r\n  const [organizationChange, setOrganization] = useState(false);\r\n  const [organization, setOrganizationValue] = useState({});\r\n  const [showOrganization, setShowOrganization] = useState(true);\r\n  const [isCheckOrg, setOrg] = useState(true);\r\n\r\n  const credentialForm = formProps?.[CredentialForm];\r\n  const isFormValue = credentialForm?.children?.filter(data => Object.keys(data.props).some(key => key.startsWith('contextHelp')));\r\n  const getValueFromLocalStorage = async () => {\r\n    const orgInfo = localStorage?.getItem('OrgInfo');\r\n    if (orgInfo === null) {\r\n      const getOrgs = getOrganization(setOrganizationValue);\r\n      if (getOrgs?.length === 1) {\r\n        setShowOrganization(false)\r\n      }\r\n    } else {\r\n      const orgData = JSON.parse(orgInfo);\r\n      setShowOrganization(orgData.orgLen === 1 ? false : true);\r\n      setOrganizationValue(orgData);\r\n    }\r\n  }\r\n\r\n  const initialLoad = () => {\r\n    const fields = {};\r\n    const downloadObj = { label: \"Language\", selectOptions: [] };\r\n\r\n    credentialForm?.children.forEach(({ type, props }) => {\r\n      if (type === Downloads && props?.children) {\r\n        downloadObj.required = props.required || false;\r\n        downloadObj.selectOptions.push(...[].concat(props.children).map(({ props: { title, href } }) => ({ title, href })));\r\n        setFormData(prevData => ({ ...prevData, ...(Array.isArray(props.children) ? null : { Download: props.children?.props?.title }) }));\r\n      }\r\n      fields[type] = { ...props, required: type === CredentialName || props?.required };\r\n    });\r\n\r\n    if (downloadObj.selectOptions.length) {\r\n      fields[Download] = downloadObj;\r\n      if (downloadObj.selectOptions.length === 1) {\r\n        setFormData(prevData => ({ ...prevData, Download: downloadObj.selectOptions[0]?.title, zipUrl: downloadObj.selectOptions[0]?.href }));\r\n      }\r\n    }\r\n\r\n    setFormField(fields);\r\n    getValueFromLocalStorage();\r\n\r\n  }\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setOrganization(false);\r\n    }, 8000);\r\n  }, [organizationChange])\r\n\r\n  useEffect(() => {\r\n    if (showCreateForm) setIsError(false);\r\n  }, [showCreateForm])\r\n\r\n  useEffect(() => {\r\n    if (!showCredential && showCreateForm) {\r\n      const updateForm = { ...formData };\r\n      for (const key in updateForm) {\r\n        updateForm[key] = ''\r\n      };\r\n      setFormData(updateForm);\r\n      setAlertShow(false);\r\n    }\r\n  }, [showCredential])\r\n\r\n  useEffect(() => { initialLoad(); }, []);\r\n\r\n  useEffect(() => {\r\n    if (isError) {\r\n      const updateForm = { ...formData };\r\n      for (const key in updateForm) {\r\n        updateForm[key] = ''\r\n      };\r\n      setFormData(updateForm);\r\n    }\r\n  }, [isError])\r\n\r\n  useEffect(() => {\r\n    const requiredFields = Array.from(credentialForm?.children || []).filter(child => child?.props?.required || child.type === CredentialName)?.map(child => child.type)\r\n    const isValidCredentialName = credentialNameRegex.test(formData.CredentialName) && formData['CredentialName']?.length >= 6;\r\n    const isCheckAllowedOrgins = requiredFields.filter((data) => data.name === \"AllowedOrigins\")\r\n    const validateAllowedOrigins = formData['AllowedOrigins']?.split(',').map((data) => hostnameRegex.test(data.trim()));\r\n    const isAllowedOriginsValid = isCheckAllowedOrgins ? validateAllowedOrigins?.every((value) => value === true) && formData[\"AllowedOrigins\"] !== undefined && formData[\"AllowedOrigins\"]?.length !== 0 : true;\r\n\r\n    const isValid = isValidCredentialName && isAllowedOriginsValid && formData.Agree === true;\r\n\r\n    setIsValid(isValid);\r\n  }, [formData]);\r\n\r\n  const handleChange = (e, type) => {\r\n    const value = (type === \"Downloads\" || type === \"Agree\") ? e.target.checked : e.target.value;\r\n    setFormData(prevData => ({ ...prevData, [type]: value }));\r\n\r\n    if (type === \"Download\" && formData['Downloads']) {\r\n      const selectedData = formField?.[Download]?.selectOptions.find(data => data.title === e.target.value);\r\n      selectedData && setFormData(prevData => ({ ...prevData, zipUrl: selectedData.href }));\r\n    }\r\n\r\n  };\r\n\r\n  const createCredential = async () => {\r\n    const token = window.adobeIMS?.getTokenFromStorage()?.token;\r\n\r\n    if (!token) {\r\n      console.log('User not logged in');\r\n    }\r\n\r\n    setLoading(true);\r\n    setShowCreateForm(false);\r\n\r\n    const data = {\r\n      name: formData[\"CredentialName\"],\r\n      platform: credentialType,\r\n      description: 'created for get credential',\r\n      domain: formData[\"AllowedOrigins\"],\r\n      services: [{ sdkCode: service }],\r\n    };\r\n\r\n    try {\r\n      const response = await fetch(`/console/api/organizations/${organization?.id}/integrations/adobeid`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"Authorization\": `Bearer ${token}`,\r\n          \"x-api-key\": window?.adobeIMS?.adobeIdData?.client_id,\r\n        },\r\n        body: JSON.stringify(data),\r\n      });\r\n\r\n      const resResp = await response.json();\r\n\r\n      if (response.status === 200) {\r\n        setResponse(resResp);\r\n        setShowCredential(true);\r\n        setAlertShow(true);\r\n      } else if (resResp?.messages) {\r\n        setAlertShow(true);\r\n        setIsValid(false);\r\n        setErrorResp(resResp?.messages[0]?.message);\r\n        setShowCreateForm(true);\r\n      }\r\n    } catch (error) {\r\n      setIsError(true);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const sideObject = formField?.[Side];\r\n  const credentialName = formField?.[CredentialName];\r\n  const allowedOrigins = formField?.[AllowedOrigins];\r\n  const downloads = formField?.[Downloads];\r\n  const download = formField?.[Download];\r\n\r\n  return (\r\n    <>\r\n      {!redirectToBeta && showCreateForm && !loading &&\r\n        <div\r\n          className={classNames(credentialForm?.className)}\r\n          css={css`\r\n            display: flex;\r\n            flex-direction: column;\r\n            gap: 16px;\r\n          `}\r\n        >\r\n          <div\r\n            css={css`\r\n            display: flex;\r\n            flex-direction: column;\r\n            gap: 16px;\r\n            color:var(--spectrum-global-color-gray-800);\r\n            width: 100%;\r\n            height: 100%;\r\n            text-align: left;\r\n            @media screen and (min-width:${MIN_MOBILE_WIDTH}) and (max-width:${MAX_TABLET_SCREEN_WIDTH}){\r\n              padding: 0;\r\n              width: 100%;\r\n            }\r\n          `}\r\n          >\r\n            {credentialForm?.title && <h3 className=\"spectrum-Heading spectrum-Heading--sizeL\">{credentialForm?.title}</h3>}\r\n            {credentialForm?.paragraph &&\r\n              <p\r\n                className=\"spectrum-Body spectrum-Body--sizeL\">\r\n                {credentialForm?.paragraph}\r\n              </p>\r\n            }\r\n            {isCheckOrg &&\r\n              <p\r\n                className=\"spectrum-Body spectrum-Body--sizeS\"\r\n                css={css`color:var(--spectrum-global-color-gray-800);`}\r\n              >\r\n                You're creating this credential in  {organization?.type === \"developer\" ? \"in your personal developer organization\" : <span>[<b>{organization?.name}</b>] </span>}.\r\n                {showOrganization &&\r\n                  <button\r\n                    tabIndex=\"0\"\r\n                    css={css`\r\n                    border: none;\r\n                    padding:0;\r\n                    font-family:'adobe-clean';\r\n                    background: transparent;\r\n                    margin-left :10px;\r\n                    text-decoration:underline;\r\n                    color: var(--spectrum-global-color-gray-800);\r\n                    cursor:pointer;`\r\n                    }\r\n                    onClick={() => setModalOpen(true)}\r\n                  >\r\n                    Change organization?\r\n                  </button>}\r\n              </p>}\r\n          </div>\r\n          <div\r\n            css={css`\r\n              display:flex;\r\n              gap: 35px;\r\n\r\n              @media screen and (min-width:${MIN_MOBILE_WIDTH}) and (max-width:${MAX_TABLET_SCREEN_WIDTH}){\r\n                flex-direction : column;\r\n                padding-left: 0;\r\n              }\r\n\r\n            `}\r\n          >\r\n            <div\r\n              css={css`\r\n                display:flex;\r\n                flex-direction : column;\r\n                gap: 35px;\r\n                width:50%;\r\n\r\n                @media screen and (min-width:${MIN_MOBILE_WIDTH}) and (max-width:${MAX_TABLET_SCREEN_WIDTH}){\r\n                  width:100%;\r\n                }\r\n\r\n              `}\r\n            >\r\n              <div\r\n                css={css`\r\n                  display:flex;\r\n                  gap:24px;\r\n                  flex-direction:column;\r\n                  width: 100%;\r\n                `}\r\n              >\r\n                {credentialName && <CredentialName nameProps={credentialName} isFormValue={isFormValue} formData={formData} handleChange={handleChange} />}\r\n                {allowedOrigins && <AllowedOrigins originsProps={allowedOrigins} isFormValue={isFormValue} formData={formData} handleChange={handleChange} />}\r\n                {downloads && download && <Downloads downloadsProp={downloads} type=\"Downloads\" formData={formData} handleChange={handleChange} />}\r\n                {formData['Downloads'] && download && <Download downloadProp={download} formData={formData} isFormValue={isFormValue} handleChange={handleChange} />}\r\n                <div css={css`display: flex; gap: 10px;`}>\r\n                  <input type=\"checkbox\" checked={formData['Agree']} onChange={(e) => handleChange(e, 'Agree')} />\r\n                  <p css={css`color:var(--spectrum-global-color-gray-800);margin:0;`} >{`By checking this box, you agree to `}\r\n                    <a\r\n                      href=\"https://wwwimages2.adobe.com/content/dam/cc/en/legal/servicetou/Adobe-Developer-Additional-Terms_en-US_20230822.pdf\"\r\n                      css={css`\r\n                        color:rgb(0, 84, 182);\r\n                        &:hover {\r\n                          color: rgb(2, 101, 220);\r\n                        }\r\n                      `}\r\n                      target=\"_blank\" rel=\"noreferrer\">Adobe Developer Terms of Use</a>.\r\n                  </p>\r\n                </div>\r\n                <button\r\n                  id=\"credentialButton\"\r\n                  className={`spectrum-Button spectrum-Button--fill spectrum-Button--accent spectrum-Button--sizeM`}\r\n                  css={css`width:fit-content;margin-top:10px`} onClick={createCredential} disabled={!isValid} >\r\n                  <span className=\"spectrum-Button-label\">Create credential</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            {sideObject ? <SideContent sideContent={sideObject?.children} /> : null}\r\n          </div>\r\n          <p\r\n            className=\"spectrum-Body spectrum-Body--sizeS\"\r\n            css={css` \r\n              color:var(--spectrum-global-color-gray-800);\r\n              \r\n              @media screen and (min-width:${MIN_MOBILE_WIDTH}) and (max-width:${MAX_TABLET_SCREEN_WIDTH}){\r\n                padding-left: 0;\r\n              }\r\n\r\n            `} >\r\n            Have existing credentials?\r\n            <a href=\"/console/\" target=\"_blank\" rel=\"noreferrer\"\r\n              css={css`\r\n                margin-left : 10px;\r\n                color:var(--spectrum-global-color-gray-800);\r\n\r\n                &:hover {\r\n                  color:var(--spectrum-global-color-gray-900);\r\n                }\r\n\r\n              `}>\r\n              Go to Developer Console\r\n            </a>\r\n          </p>\r\n        </div>\r\n      }\r\n\r\n      {alertShow &&\r\n        <>\r\n          {organizationChange ?\r\n            <Toast message=\"Organization Changed\" variant=\"success\" disable={8000} customDisableFunction={setAlertShow} /> :\r\n            <Toast\r\n              customDisableFunction={setAlertShow}\r\n              message={showCreateForm && !showCredential ? errResp : !isError && showCredential && `Your credentials were created successfully.`}\r\n              variant={isError || (showCreateForm && !showCredential) ? \"error\" : \"success\"}\r\n              disable={isError || (showCreateForm && !showCredential) ? null : 8000}\r\n            />\r\n          }\r\n        </>\r\n      }\r\n      {loading && !showCredential && <Loading credentials={credentialForm} downloadStatus={formData['Downloads']} />}\r\n      {modalOpen && (\r\n        <ChangeOrganization\r\n          setModalOpen={setModalOpen}\r\n          redirectToBeta={redirectToBeta}\r\n          setRedirectBetaProgram={setRedirectBetaProgram}\r\n          setAlertShow={setAlertShow}\r\n          alertShow={alertShow}\r\n          organizationChange={organizationChange}\r\n          setOrganization={setOrganization}\r\n          setOrganizationValue={setOrganizationValue}\r\n        />\r\n      )}\r\n      {isError && !showCreateForm && !showCredential && <IllustratedMessage errorMessage={formProps?.[IllustratedMessage]} />}\r\n      {showCredential && !showCreateForm && <MyCredential credentialProps={formProps} response={response} setShowCreateForm={setShowCreateForm} setShowCredential={setShowCredential} organizationName={organization?.name} formData={formData} orgID={organization?.id} />}\r\n      {redirectToBeta && <JoinBetaProgram joinBeta={formProps?.[JoinBetaProgram]} />}\r\n    </>\r\n  )\r\n}\r\n\r\nconst Side = ({ side }) => (side);\r\n\r\nconst CredentialName = ({ nameProps, isFormValue, formData, handleChange }) => {\r\n  const inValidName = !credentialNameRegex.test(formData['CredentialName'])\r\n  const isRed = formData[\"CredentialName\"]?.length !== 0 && inValidName;\r\n  return (\r\n    <FormFields isFormValue={isFormValue} fields={nameProps} formData={formData} isRed={isRed}>\r\n      <div css={css`position:relative; display:inline-block; width: 100%`}>\r\n        <input\r\n          type=\"text\"\r\n          css={css`\r\n            padding: 7px;\r\n            border-radius: 3px;\r\n            width: 97%;\r\n            border: 1px solid ${isRed ? \"rgb(211, 21, 16)\" : \"var(--spectrum-global-color-gray-400)\"};\r\n             &::placeholder {\r\n               font-style: italic; \r\n               color: var(--spectrum-global-color-gray-400); \r\n              }\r\n             &:focus {\r\n              outline: none;\r\n              border-color: ${isRed ? \"rgb(211, 21, 16)\" : \"var(--spectrum-global-color-gray-400)\"};\r\n            }\r\n          `}\r\n          value={formData[\"CredentialName\"]}\r\n          onChange={(e) => handleChange(e, \"CredentialName\")}\r\n          placeholder={nameProps?.placeholder}\r\n          maxLength={nameProps?.range}\r\n        />\r\n        <span css={css`display : ${formData[\"CredentialName\"]?.length < 3 && formData[\"CredentialName\"]?.length !== 0 ? \"block\" : \"none\"}`}><AlertIcon /></span>\r\n      </div>\r\n    </FormFields>\r\n  )\r\n}\r\n\r\nconst AllowedOrigins = ({ originsProps, isFormValue, type, formData, handleChange }) => {\r\n\r\n  const validateAllowedOrigins = formData['AllowedOrigins']?.split(',').map((data) => hostnameRegex.test(data.trim()));\r\n  const isAllowedOriginsValid = validateAllowedOrigins?.every((value) => value === true);\r\n  const isRed = formData[\"AllowedOrigins\"] !== undefined && !isAllowedOriginsValid && formData[\"AllowedOrigins\"]?.length !== 0;\r\n\r\n  return (\r\n    <FormFields isFormValue={isFormValue} fields={originsProps} type={type} formData={formData} isRed={isRed} >\r\n      <textarea\r\n        css={css`\r\n          flex: 1;\r\n          padding: 7px;\r\n          height: 50px;\r\n          border-radius: 3px;\r\n          border: 1px solid ${isRed ? \"rgb(211, 21, 16)\" : \"var(--spectrum-global-color-gray-400)\"};\r\n          resize: none; \r\n          width: 90%;\r\n          color: #4b4b4b;\r\n          font-family: adobe-clean, Helvetica, Arial, sans-serif;\r\n          &::placeholder {\r\n            color:var(--spectrum-global-color-gray-600);\r\n            font-style: italic;\r\n          }\r\n          &:focus {\r\n            outline: none;\r\n            border-color: ${isRed ? \"rgb(211, 21, 16)\" : \"var(--spectrum-global-color-gray-400)\"};\r\n          }\r\n          &:hover {\r\n            &::placeholder {\r\n              color:var(--spectrum-global-color-gray-800);\r\n            }\r\n          }\r\n        `}\r\n        value={formData[\"AllowedOrigins\"]}\r\n        placeholder={originsProps?.placeholder}\r\n        onChange={(e) => handleChange(e, \"AllowedOrigins\")}\r\n      ></textarea>\r\n    </FormFields>\r\n  )\r\n}\r\n\r\nconst Downloads = ({ downloadsProp, handleChange, formData }) => {\r\n  const { label, contextHelpLabelForLink, contextHelpLink, contextHelpText, contextHelp, contextHelpHeading } = downloadsProp;\r\n\r\n  return (\r\n    <div css={css` display: flex;gap: 10px;align-items: center;`}>\r\n      <input type=\"checkbox\" onChange={(e) => handleChange(e, \"Downloads\")} checked={formData['Downloads']} />\r\n      <p css={css` color:var(--spectrum-dialog-confirm-description-text-color, var(--spectrum-global-color-gray-800));margin:0;`} > {label} </p>\r\n      <div css={css`cursor:pointer;display: flex;justify-content: center;align-items: center;`}>\r\n        {contextHelp && <ContextHelp heading={contextHelpHeading} text={contextHelpText} link={contextHelpLink} label={contextHelpLabelForLink} />}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Download = ({ downloadProp, formData, isFormValue, handleChange }) => {\r\n  return (\r\n    <>\r\n      {\r\n        downloadProp?.selectOptions?.length > 1 &&\r\n        <FormFields isFormValue={isFormValue} fields={downloadProp}>\r\n          <select\r\n            css={css`\r\n              font-style: italic;\r\n              font-weight: 500;\r\n              font-family: 'adobe-clean';\r\n              padding: 7px;\r\n              border-radius: 3px;\r\n              border: 1px solid #D0D0D0 !important;\r\n              width:100%;\r\n            `}\r\n            id=\"selectBox\"\r\n            value={formData['Download']}\r\n            onChange={(e) => handleChange(e, \"Download\")}\r\n          >\r\n            {downloadProp?.selectOptions?.length > 1 && <option value=\"\" hidden>Select language for your code pickData</option>}\r\n            {downloadProp?.selectOptions?.map((option, index) => (\r\n              <option key={index} data-link={option.href} value={option.title} >{option.title}</option>\r\n            ))}\r\n          </select>\r\n        </FormFields>\r\n      }\r\n    </>\r\n\r\n  )\r\n}\r\n\r\nconst SideContent = ({ sideContent }) => {\r\n  return (\r\n    <>\r\n      <div\r\n        css={css`\r\n          width: 2px; \r\n          background-color: #D0D0D0; \r\n\r\n          @media screen and (min-width:${MIN_MOBILE_WIDTH}) and (max-width:${MAX_TABLET_SCREEN_WIDTH}){\r\n            display:none;\r\n          }\r\n\r\n        `}\r\n      />\r\n      <div\r\n        css={css`\r\n          width:50%;\r\n \r\n          @media screen and (min-width:${MIN_MOBILE_WIDTH}) and (max-width:${MAX_TABLET_SCREEN_WIDTH}){\r\n            width:100%;\r\n          }\r\n\r\n        `}>\r\n        <Side side={sideContent} />\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport { CredentialForm, Side, CredentialName, AllowedOrigins, Downloads, Download, SideContent };"],"names":["hostnameRegex","credentialNameRegex","CredentialForm","formProps","credentialType","service","loading","setLoading","useState","isError","setIsError","response","setResponse","errResp","setErrorResp","showCreateForm","setShowCreateForm","showCredential","setShowCredential","formField","setFormField","formData","setFormData","modalOpen","setModalOpen","redirectToBeta","setRedirectBetaProgram","isValid","setIsValid","alertShow","setAlertShow","organizationChange","setOrganization","organization","setOrganizationValue","showOrganization","setShowOrganization","isCheckOrg","setOrg","credentialForm","isFormValue","children","filter","data","Object","keys","props","some","key","startsWith","initialLoad","fields","downloadObj","label","selectOptions","forEach","type","Downloads","required","push","concat","map","title","href","prevData","Array","isArray","Download","CredentialName","length","zipUrl","async","orgInfo","localStorage","getItem","getOrgs","getOrganization","orgData","JSON","parse","orgLen","getValueFromLocalStorage","useEffect","setTimeout","updateForm","requiredFields","from","child","isValidCredentialName","test","isCheckAllowedOrgins","name","validateAllowedOrigins","split","trim","isAllowedOriginsValid","every","value","undefined","Agree","handleChange","e","target","checked","selectedData","find","sideObject","Side","credentialName","allowedOrigins","AllowedOrigins","downloads","download","className","classNames","css","MIN_MOBILE_WIDTH","MAX_TABLET_SCREEN_WIDTH","paragraph","tabIndex","onClick","nameProps","originsProps","downloadsProp","downloadProp","onChange","rel","id","token","window","adobeIMS","getTokenFromStorage","console","log","platform","description","domain","services","sdkCode","fetch","method","headers","adobeIdData","client_id","body","stringify","resResp","json","status","messages","message","error","disabled","SideContent","sideContent","variant","disable","customDisableFunction","credentials","downloadStatus","I","errorMessage","IllustratedMessage","credentialProps","organizationName","orgID","joinBeta","JoinBetaProgram","side","inValidName","isRed","placeholder","maxLength","range","contextHelpLabelForLink","contextHelpLink","contextHelpText","contextHelp","contextHelpHeading","heading","text","link","hidden","option","index"],"sourceRoot":""}