"use strict";(self.webpackChunkcommerce_php=self.webpackChunkcommerce_php||[]).push([[89405],{78885:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return l},default:function(){return c}});var r=a(58168),o=a(80045),s=(a(88763),a(15680)),n=a(83407);const m=["components"],l={},i={_frontmatter:l},d=n.A;function c(e){let{components:t}=e,a=(0,o.A)(e,m);return(0,s.mdx)(d,(0,r.A)({},i,a,{components:t,mdxType:"MDXLayout"}),(0,s.mdx)("h1",{id:"persistence-layer"},"Persistence layer"),(0,s.mdx)("p",null,"The Adobe Commerce and Magento Open Source framework (Commerce framework) uses an active record pattern strategy for persistence. In this system, the model object contains a ",(0,s.mdx)("em",{parentName:"p"},"resource model")," that maps an object to one or more database rows. A resource model is responsible for performing functions such as:"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("p",{parentName:"li"},"Executing all CRUD (create, read, update, delete) requests. The resource model contains the SQL code for completing these requests.")),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("p",{parentName:"li"},"Performing additional business logic. For example, a resource model could perform data validation, start processes before or after data is saved, or perform other database operations."))),(0,s.mdx)("p",null,"If you expect to return multiple items from a database query, then you would implement a special type of resource model known as a ",(0,s.mdx)("em",{parentName:"p"},"collection"),". A collection is a class that loads multiple models into an array-like structure based on a set of rules. This is similar to a SQL ",(0,s.mdx)("inlineCode",{parentName:"p"},"WHERE")," clause."),(0,s.mdx)("p",null,"A simple resource model defines and interacts with a single table."),(0,s.mdx)("p",null,"However, some objects have a vast number of attributes, or they could have a set related objects that have varying numbers of attributes. In these cases, the objects are constructed using ",(0,s.mdx)("strong",{parentName:"p"},"Entity-Attribute-Value (EAV)")," models."),(0,s.mdx)("p",null,"Any model that uses an EAV resource has its attributes spread out over a number of MySQL tables."),(0,s.mdx)("p",null,"The ",(0,s.mdx)("inlineCode",{parentName:"p"},"Customer"),", ",(0,s.mdx)("inlineCode",{parentName:"p"},"Catalog")," and ",(0,s.mdx)("inlineCode",{parentName:"p"},"Order")," resource models use EAV attributes."),(0,s.mdx)("h2",{id:"xml-declarative-schema"},"XML Declarative schema"),(0,s.mdx)("p",null,"With Adobe Commerce and Magento Open Source 2.3, we introduced Declarative XML Schemas.\nThese are XML files that are used to specify the final state of the database.\nThese files replace PHP update scripts that were required when upgrading a module.\nThese files allow you to skip the progressive upgrade scripts and jump right to the final state of the database."),(0,s.mdx)("p",null,"Read more about writing ",(0,s.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/commerce/php/development/components/declarative-schema/configuration/"},"declarative XML schemas"),"."))}c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-architecture-layers-persistence-md-c8f106465e0ba1aeb876.js.map