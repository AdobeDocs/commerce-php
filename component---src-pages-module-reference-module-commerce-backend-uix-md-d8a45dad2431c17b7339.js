"use strict";(self.webpackChunkcommerce_php=self.webpackChunkcommerce_php||[]).push([[11186],{14686:function(e,n,o){o.r(n),o.d(n,{_frontmatter:function(){return s},default:function(){return u}});var t=o(58168),a=o(80045),l=(o(88763),o(15680)),i=o(83407);const r=["components"],s={},m=(d="InlineAlert",function(e){return console.warn("Component "+d+" was not imported, exported, or provided by MDXProvider as global scope"),(0,l.mdx)("div",e)});var d;const c={_frontmatter:s},p=i.A;function u(e){let{components:n}=e,o=(0,a.A)(e,r);return(0,l.mdx)(p,(0,t.A)({},c,o,{components:n,mdxType:"MDXLayout"}),(0,l.mdx)("h1",{id:"adobe-commercebackenduix-module"},"Adobe CommerceBackendUix module"),(0,l.mdx)("p",null,"When the ",(0,l.mdx)("inlineCode",{parentName:"p"},"Magento_CommerceBackendUix")," php module is installed on Adobe Commerce it allows out of process extensions to customize the Adobe Commerce Admin Panel."),(0,l.mdx)("h2",{id:"installation"},"Installation"),(0,l.mdx)("p",null,"This is a regular in-process PHP commerce in Adobe Commerce. It can be installed using composer, by adding the dependency to the needed version."),(0,l.mdx)("p",null,"To enable the extension in your Adobe Commerce, you can run ",(0,l.mdx)("inlineCode",{parentName:"p"},"bin/magento module:enable Magento_CommerceBackendUix")),(0,l.mdx)("h2",{id:"local-development"},"Local development"),(0,l.mdx)("p",null,"Sync the repository to start your development. The project is already built and will work directly if you install the extension locally."),(0,l.mdx)("h3",{id:"changes-to-the-php-code"},"Changes to the PHP code"),(0,l.mdx)("p",null,"Any change to the PHP code should be added to the local Adobe Commerce instance and compiled using the following command:"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-bash"},"bin/magento setup:di:compile\n")),(0,l.mdx)("p",null,"Make sure to clear the cache if your change affect a static file such as an XML file. You can use the following command:"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-bash"},"bin/magento cache:flush\n")),(0,l.mdx)("h2",{id:"local-testing"},"Local testing"),(0,l.mdx)("p",null,"After adding this package to Adobe Commerce, you can enable a local server in the admin panel (navigate to Stores > Settings > Configuration > Adobe Services > Backoffice SDK > Local testing):"),(0,l.mdx)("ul",null,(0,l.mdx)("li",{parentName:"ul"},"Enable the local server."),(0,l.mdx)("li",{parentName:"ul"},"Set the ",(0,l.mdx)("inlineCode",{parentName:"li"},"Base URL")," that points to your localhost."),(0,l.mdx)("li",{parentName:"ul"},"Set the ",(0,l.mdx)("inlineCode",{parentName:"li"},"IMS Token"),". You can use ",(0,l.mdx)("inlineCode",{parentName:"li"},"dummyToken")," for example as a token and set it in your ",(0,l.mdx)("inlineCode",{parentName:"li"},"server.js")," file."),(0,l.mdx)("li",{parentName:"ul"},"Set the ",(0,l.mdx)("inlineCode",{parentName:"li"},"IMS Org Id"),". You can use ",(0,l.mdx)("inlineCode",{parentName:"li"},"imsOrg")," for example as a token and set it in your ",(0,l.mdx)("inlineCode",{parentName:"li"},"server.js")," file.")),(0,l.mdx)("p",null,"Make sure that the configuration matches your local server input. If this is enabled, all calls will be automatically redirected to the local server instead of connecting to Adobe's App Registry."),(0,l.mdx)("h3",{id:"example-of-a-serverjs-implementation"},"Example of a ",(0,l.mdx)("inlineCode",{parentName:"h3"},"server.js")," implementation"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-javascript"},'const http = require(\'https\');\nconst fs = require(\'fs\');\nconst url = require(\'url\');\n\nconst options = {\n    key: fs.readFileSync(\'key.pem\'),\n    cert: fs.readFileSync(\'cert.pem\')\n  };\n \nconsole.log(\'Server will listen at :  https://localhost \');\nhttp.createServer(options, function (req, res) {\n    res.writeHead(200, {\n        \'Content-Type\': \'application/json\',\n        \'Access-Control-Allow-Origin\': \'*\',\n        \'Access-Control-Allow-Headers\': \'*\'\n    });\n    let json_response;\n    \n    console.log(url.parse(req.url,true).pathname);\n    if (url.parse(req.url,true).pathname == "/config") {\n        json_response = {\n            baseUrl: "https://localhost:9090/",\n            apiKey: "apiKey",\n            auth: {\n                schema: "Bearer",\n                imsToken: "dummyToken"\n            },\n            imsOrg: "imsOrg",\n            version: 1,\n            service: "aem"\n        }\n    } else {\n        json_response = [{\n            "name": "<applicationName>",\n            "title": "Test extension",\n            "description": "No",\n            "icon": "no",\n            "publisher": "aQQ6300000008LEGAY",\n            "endpoints": {\n              "aem/commerce-admin.page-content.add/1": {\n                "view": [{\n                  "href": "https://localhost:9080/index.html"\n                }]\n              }\n            },\n            "xrInfo": {\n              "supportEmail": "test@adobe.com",\n              "appId": "4a4c7cf8-bd64-4649-b8ed-662cd0d9c918"\n            },\n            "status": "PUBLISHED" }]\n    }\n \n    res.end( JSON.stringify(json_response) );\n}).listen(9090);\n')),(0,l.mdx)(m,{slots:"text",mdxType:"InlineAlert"}),"The version of this module is 1.3.2.")}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-module-reference-module-commerce-backend-uix-md-d8a45dad2431c17b7339.js.map