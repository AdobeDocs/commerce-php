{"version":3,"file":"component---src-pages-development-components-object-manager-index-md-249485564ccf8dd6a4dd.js","mappings":"qMAUsBA,E,wEAFTC,EAAe,GAOtBC,GALgBF,EAKY,cALJ,SAA6BG,GAEzD,OADAC,QAAQC,KAAK,aAAeL,EAAO,4EAC5B,eAASG,KAIZG,EAAc,CAClBL,aAAAA,GAEIM,EAAYC,EAAAA,EACH,SAASC,EAAT,GAGZ,IAFDC,EAEC,EAFDA,WACGP,GACF,YACD,OAAO,SAACI,GAAD,UAAeD,EAAiBH,EAAhC,CAAuCO,WAAYA,EAAYC,QAAQ,eAG5E,eACE,GAAM,kBADR,mBAGA,wMACA,2FAA4E,cAAGC,WAAW,IACtF,KAAQ,2GACP,uBAAYA,WAAW,KAAvB,2BAFL,+CAGA,SAACV,EAAD,CAAaW,QAAQ,UAAUC,MAAM,OAAOH,QAAQ,iBACpD,sEAAuD,uBAAYC,WAAW,KAAvB,iBAAvD,0EACE,cAAGA,WAAW,IACZ,KAAQ,gBADV,eADF,MAIA,eACE,GAAM,oBADR,qBAGA,6EACA,oBACE,eAAIA,WAAW,MAAf,6CACA,eAAIA,WAAW,MAAf,uGACA,eAAIA,WAAW,MAAf,yGACA,eAAIA,WAAW,MAAf,kEAEF,eACE,GAAM,iBADR,kBAGA,0BAAW,cAAGA,WAAW,IACrB,KAAQ,6CACP,uBAAYA,WAAW,KAAvB,WAFL,mEAE8H,cAAGA,WAAW,IACxI,KAAQ,8BADkH,wBAF9H,MAKA,+RAEA,eACE,GAAM,eADR,gBAGA,qEAAsD,uBAAYA,WAAW,KAAvB,iBAAtD,sGAC6B,uBAAYA,WAAW,KAAvB,iBAD7B,yCAEA,uIACgB,uBAAYA,WAAW,KAAvB,UADhB,+DACiI,cAAGA,WAAW,IAC3I,KAAQ,mBADqH,WADjI,qBAIA,4HAA6G,cAAGA,WAAW,IACvH,KAAQ,mBADiG,WAA7G,QAE4B,cAAGA,WAAW,IACtC,KAAQ,iBADgB,SAF5B,mGAMA,SAACV,EAAD,CAAaW,QAAQ,UAAUC,MAAM,OAAOH,QAAQ,iBACpD,kIAAmH,uBAAYC,WAAW,KAAvB,iBAAnH,oIAE2C,uBAAYA,WAAW,KAAvB,iBAF3C,eAGA,eACE,GAAM,cADR,eAGA,oDAAqC,uBAAYA,WAAW,KAAvB,iBAArC,uCACA,oBACE,eAAIA,WAAW,MAAf,gEAAoF,uBAAYA,WAAW,MAAvB,cAApF,MAAiJ,uBAAYA,WAAW,MAAvB,aAAjJ,UACE,eAAIA,WAAW,OACb,eAAIA,WAAW,MAAf,mCAAuD,uBAAYA,WAAW,MAAvB,cAAvD,mBAAiI,cAAGA,WAAW,KAC3I,KAAQ,mHACP,uBAAYA,WAAW,KAAvB,yDAFL,cAKJ,eAAIA,WAAW,MAAf,oBAAwC,uBAAYA,WAAW,MAAvB,iBAAxC,2DACA,eAAIA,WAAW,MAAf,8FACA,eAAIA,WAAW,MAAf,+GAEF,eACE,GAAM,gCADR,iCAGA,8NAEA,uDAAwC,uBAAYA,WAAW,KAAvB,iBAAxC,0DAA2J,uBAAYA,WAAW,KAAvB,sDAA3J,MACA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBADZ,qPAaTH,EAAWM,gBAAiB","sources":["webpack://commerce-php/./src/pages/development/components/object-manager/index.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/commerce-php/commerce-php/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst InlineAlert = makeShortcode(\"InlineAlert\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"object-manager\"\n    }}>{`Object manager`}</h1>\n    <p>{`Large applications, such as the Adobe Commerce and Magento Open Source applications, use an object manager to avoid boilerplate code when composing objects during instantiation.`}</p>\n    <p>{`In Adobe Commerce and Magento Open Source, the implementation of the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/magento2/blob/2.4/lib/internal/Magento/Framework/ObjectManagerInterface.php\"\n      }}><inlineCode parentName=\"a\">{`ObjectManagerInterface`}</inlineCode></a>{` performs the duties of an object manager.`}</p>\n    <InlineAlert variant=\"warning\" slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`The application prohibits the direct use of the `}<inlineCode parentName=\"p\">{`ObjectManager`}</inlineCode>{` in your code because it hides the real dependencies of a class.\nSee `}<a parentName=\"p\" {...{\n        \"href\": \"#usage-rules\"\n      }}>{`usage rules`}</a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"responsibilities\"\n    }}>{`Responsibilities`}</h2>\n    <p>{`The object manager has the following responsibilities:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Object creation in factories and proxies`}</li>\n      <li parentName=\"ul\">{`Implementing the singleton pattern by returning the same shared instance of a class when requested`}</li>\n      <li parentName=\"ul\">{`Dependency management by instantiating the preferred class when a constructor requests its interface`}</li>\n      <li parentName=\"ul\">{`Automatically instantiating parameters in class constructors`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"configuration\"\n    }}>{`Configuration`}</h2>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"../../build/dependency-injection-file.md\"\n      }}><inlineCode parentName=\"a\">{`di.xml`}</inlineCode></a>{` file configures the object manager and tells it how to handle `}<a parentName=\"p\" {...{\n        \"href\": \"../dependency-injection.md\"\n      }}>{`dependency injection`}</a>{`.`}</p>\n    <p>{`This file specifies the preferred implementation class the object manager generates for the interface declared in a class constructor.\nThe file also specifies whether the object manager should create an object for every request or treat the object as a singleton.`}</p>\n    <h2 {...{\n      \"id\": \"usage-rules\"\n    }}>{`Usage rules`}</h2>\n    <p>{`Adobe Commerce and Magento Open Source use the `}<inlineCode parentName=\"p\">{`ObjectManager`}</inlineCode>{` to generate and inject the classes declared in your constructor.\nClasses should not ask for the `}<inlineCode parentName=\"p\">{`ObjectManager`}</inlineCode>{` itself as a constructor dependency.`}</p>\n    <p>{`You do not call the object manager directly because the framework handles this automatically.\nDirect use of the `}<inlineCode parentName=\"p\">{`create`}</inlineCode>{` function prevents type validation and type hinting that a `}<a parentName=\"p\" {...{\n        \"href\": \"../factories.md\"\n      }}>{`factory`}</a>{` class provides.`}</p>\n    <p>{`Object creation is also a separate responsibility that should be moved to a dedicated class such as a `}<a parentName=\"p\" {...{\n        \"href\": \"../factories.md\"\n      }}>{`factory`}</a>{` or `}<a parentName=\"p\" {...{\n        \"href\": \"../proxies.md\"\n      }}>{`proxy`}</a>{`.\nIn most cases, the framework generates these classes automatically during code compilation.`}</p>\n    <InlineAlert variant=\"warning\" slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`You may notice in the Adobe Commerce and Magento Open Source codebase that some core classes still call the `}<inlineCode parentName=\"p\">{`ObjectManager`}</inlineCode>{` directly.\nThis code needs porting or exist for backward compatibility purposes.\nThey are not tacit endorsements of using the `}<inlineCode parentName=\"p\">{`ObjectManager`}</inlineCode>{` directly.`}</p>\n    <h3 {...{\n      \"id\": \"exceptions\"\n    }}>{`Exceptions`}</h3>\n    <p>{`You can depend on and use the `}<inlineCode parentName=\"p\">{`ObjectManager`}</inlineCode>{` class in the following scenarios:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`You can use the object manager in static magic methods like `}<inlineCode parentName=\"li\">{`__wakeup()`}</inlineCode>{`, `}<inlineCode parentName=\"li\">{`__sleep()`}</inlineCode>{`, etc.`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`An example can be found in the `}<inlineCode parentName=\"li\">{`__wakeup()`}</inlineCode>{` method in the `}<a parentName=\"li\" {...{\n              \"href\": \"https://github.com/magento/magento2/blob/2.4/app/code/Magento/Eav/Model/Entity/Attribute/AbstractAttribute.php\"\n            }}><inlineCode parentName=\"a\">{`Magento/Eav/Model/Entity/Attribute/AbstractAttribute`}</inlineCode></a>{` class.`}</li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">{`You can use the `}<inlineCode parentName=\"li\">{`ObjectManager`}</inlineCode>{` to maintain backward compatibility for a constructor.`}</li>\n      <li parentName=\"ul\">{`In a global scope, like in fixtures of integration tests, you can use the object manager.`}</li>\n      <li parentName=\"ul\">{`The object manager can be a dependency in classes used for creating objects such as factories or proxies.`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"programmatic-product-updates\"\n    }}>{`Programmatic product updates`}</h3>\n    <p>{`If the Access Control List (ACL) rules contain incorrect settings, scripts that update products will fail validation.\nThis results in products assigned to the wrong store view with the wrong status.`}</p>\n    <p>{`To skip ACL validations, use the `}<inlineCode parentName=\"p\">{`ObjectManager`}</inlineCode>{` to set a dynamic dependency injection preference for `}<inlineCode parentName=\"p\">{`Magento\\\\Framework\\\\Authorization\\\\PolicyInterface`}</inlineCode>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-php\"\n      }}>{`$objectManager = $bootstrap->getObjectManager();\n$objectManager->configure([\n    'preferences' => [\n        'Magento\\\\Framework\\\\Authorization\\\\PolicyInterface' => 'Magento\\\\Framework\\\\Authorization\\\\Policy\\\\DefaultPolicy'\n    ]\n]);\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["name","_frontmatter","InlineAlert","props","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","variant","slots","isMDXComponent"],"sourceRoot":""}