{"version":3,"file":"component---src-pages-developer-security-cross-site-request-forgery-md-03f93b25c7c2ac633df5.js","mappings":"8QAQaA,EAAe,GACtBC,EAAc,CAClBD,aAAAA,GAEIE,EAAYC,EAAAA,EACH,SAASC,EAAT,GAGZ,IAFDC,EAEC,EAFDA,WACGC,GACF,YACD,OAAO,SAACJ,GAAD,UAAeD,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,eAG5E,ujBAKA,uQAGA,eACE,GAAM,4BADR,6BAGA,gLAEA,gPAEF,uBAAYC,WAAW,KAAvB,+BAFE,+EAEoJ,eAAIA,WAAW,KAAf,QAFpJ,yCAGiC,uBAAYA,WAAW,KAAvB,4DAHjC,uVAMkF,eAAIA,WAAW,KAAf,OANlF,MAOA,kFAAmE,uBAAYA,WAAW,KAAvB,0BAAnE,kHAES,uBAAYA,WAAW,KAAvB,YAFT,sCAEmG,uBAAYA,WAAW,KAAvB,2CAFnG,iBAGA,eACE,GAAM,cADR,eAGA,gVAC0K,uBAAYA,WAAW,KAAvB,+DAD1K,4GAOJJ,EAAWK,gBAAiB","sources":["webpack://commerce-php/./src/pages/developer/security/cross-site-request-forgery.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/commerce-php/commerce-php/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <p>{`CSRF is an attack that tricks a user's browser into executing actions on a web application in which the user is currently\nauthenticated. This attack can be achieved in multiple ways by crafting a form, or a resource reference,\nlike \\\\<img\\\\/`}{`>`}{` \"src\" attribute, that will trigger a browser to send the request to the targeted website where a user\nmay already be authenticated and posses the authentication cookies. The target website will consider this request\ngenuine and will execute the action, like transferring money to an account.`}</p>\n    <p>{`The most effective way of protecting against these attacks is with CSRF tokens. These tokens are generated\nserver-side and inserted into forms. When receiving a form, the server verifies that a valid CSRF token is\nincluded in the request.`}</p>\n    <h2 {...{\n      \"id\": \"built-in-csrf-protection\"\n    }}>{`Built-in CSRF protection`}</h2>\n    <p>{`There are anti-CSRF measures, like CSRF tokens, built into the framework. Only minimum action is\nrequired from developers to make these mechanisms work.`}</p>\n    <p>{`The framework cannot be sure which controller is intended to change state and thus needs to be protected. A developer\nmust inform the framework whether a controller needs protection by implementing one, or multiple,\n`}<inlineCode parentName=\"p\">{`Http<Method>ActionInterface`}</inlineCode>{` interfaces. In most scenarios, controllers that accept forms would expect `}<em parentName=\"p\">{`POST`}</em>{`\nrequests and must be marked by the `}<inlineCode parentName=\"p\">{`Magento\\\\Framework\\\\App\\\\Action\\\\HttpPostActionInterface`}</inlineCode>{` interface. These are\nmarker-interfaces that require no additional implementation. If a controller implements at least one of them,\nthe framework will deny requests with HTTP methods that do not correspond to one of the interfaces. The CSRF protection\nmechanism will become active for controllers that expect any HTTP method other than `}<em parentName=\"p\">{`GET`}</em>{`.`}</p>\n    <p>{`CSRF tokens will be added to all forms automatically by the `}<inlineCode parentName=\"p\">{`lib/web/mage/common.js`}</inlineCode>{` file. If the file is disabled,\nyou can manually add the CSRF token to a form by getting it from\nthe global `}<inlineCode parentName=\"p\">{`FORM_KEY`}</inlineCode>{` variable on JS side, or by using `}<inlineCode parentName=\"p\">{`Magento\\\\Framework\\\\Data\\\\Form\\\\FormKey`}</inlineCode>{` on backend.`}</p>\n    <h3 {...{\n      \"id\": \"exceptions\"\n    }}>{`Exceptions`}</h3>\n    <p>{`There may be some cases when a controller expects POST requests, or any other non-GET HTTP method, but those requests are not supposed to be\nprotected from CSRF. For example, a webhook that expect a request from another service. In such cases, you can disable CSRF protection for a controller by implementing the `}<inlineCode parentName=\"p\">{`Magento\\\\Framework\\\\App\\\\CsrfAwareActionInterface interface`}</inlineCode>{`.\nBy doing so, you can also customize failed CSRF challenge exceptions or modify the validation logic.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"sourceRoot":""}