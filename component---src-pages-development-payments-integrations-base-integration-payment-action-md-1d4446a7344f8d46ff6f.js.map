{"version":3,"file":"component---src-pages-development-payments-integrations-base-integration-payment-action-md-1d4446a7344f8d46ff6f.js","mappings":"yRASaA,EAAe,CAAC,EACvBC,EAAc,CAClBD,aAAAA,GAEIE,EAAYC,EAAAA,EACH,SAASC,EAAT,GAGZ,IAFDC,EAEC,EAFDA,WACGC,GACF,YACD,OAAO,SAACJ,GAAD,UAAeD,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,eAI5E,SAAC,UAAD,CAAMA,QAAQ,UACd,eACE,GAAM,wBADR,yBAGA,kHACA,oBACE,eAAIC,WAAW,OACb,cAAGA,WAAW,MAAd,0DAA6E,cAAGA,WAAW,IACvF,KAAQ,uBADiE,oDAA7E,OAIF,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAd,6BAAgD,cAAGA,WAAW,IAC1D,KAAQ,0CADoC,oBAAhD,SAEsC,cAAGA,WAAW,IAChD,KAAQ,4CAD0B,sBAFtC,OAMF,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAd,gEAAmF,cAAGA,WAAW,IAC7F,KAAQ,iEADuE,mBAAnF,aAIF,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAd,0DAA6E,cAAGA,WAAW,IACvF,KAAQ,2FADiE,gBAA7E,QAKJ,eACE,GAAM,yBADR,0BAGA,2FAA4E,uBAAYA,WAAW,KAAvB,UAA5E,+DAA6L,uBAAYA,WAAW,KAAvB,kCAC7L,4DAA6C,cAAGA,WAAW,IACvD,KAAQ,yCADiC,mBAA7C,MAGA,eACE,GAAM,kDADR,aAEgB,uBAAYA,WAAW,MAAvB,aAFhB,kCAGA,qFAAsE,uBAAYA,WAAW,KAAvB,yCAAtE,OACA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBADZ,sgCAoBL,+DAAgD,uBAAYA,WAAW,KAAvB,6BAAhD,qBAA0I,uBAAYA,WAAW,KAAvB,kBAA1I,0CACuB,uBAAYA,WAAW,KAAvB,kBADvB,8EAEA,0BAAW,uBAAYA,WAAW,KAAvB,6BAAX,8CAA8H,uBAAYA,WAAW,KAAvB,yCAA9H,OACA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBADZ,69CAmBL,iEAAkD,uBAAYA,WAAW,KAAvB,4DAAlD,UAAgK,uBAAYA,WAAW,KAAvB,WAAhK,iFACA,qCAAsB,cAAGA,WAAW,IAChC,KAAQ,uBADU,oDAAtB,kEAE+H,cAAGA,WAAW,IACzI,KAAQ,qEADmH,2CAF/H,oEAIwH,cAAGA,WAAW,IAClI,KAAQ,yCAD4G,YAJxH,UASH,CAEDJ,EAAWK,gBAAiB,C","sources":["webpack://commerce-php/./src/pages/development/payments-integrations/base-integration/payment-action.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/commerce-php/commerce-php/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nimport Docs from '/src/pages/_includes/braintree-note.md';\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n    <Docs mdxType=\"Docs\" />\n    <h1 {...{\n      \"id\": \"add-a-payment-action\"\n    }}>{`Add a payment action`}</h1>\n    <p>{`For each payment action available for the payment method, you must implement the following:`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Creating a request with payment details. Described in `}<a parentName=\"p\" {...{\n            \"href\": \"get-payment-info.md\"\n          }}>{`Get payment information from frontend to backend`}</a>{`.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Request processing using `}<a parentName=\"p\" {...{\n            \"href\": \"../payment-gateway/response-handler.md\"\n          }}>{`response handler`}</a>{` and `}<a parentName=\"p\" {...{\n            \"href\": \"../payment-gateway/response-validator.md\"\n          }}>{`response validator`}</a>{`.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Specify and configure the gateway command. Described in the `}<a parentName=\"p\" {...{\n            \"href\": \"../payment-gateway/gateway-command.md#adding-gateway-commands\"\n          }}>{`Gateway Command`}</a>{` topic.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Add the command to the commands pool, as described in `}<a parentName=\"p\" {...{\n            \"href\": \"../payment-gateway/command-pool.md#command-pool-configuration-for-a-particular-provider\"\n          }}>{`Command Pool`}</a>{`.`}</p>\n      </li>\n    </ul>\n    <h2 {...{\n      \"id\": \"configure-the-command\"\n    }}>{`Configure the command`}</h2>\n    <p>{`The gateway command for the payment action must be configured in the `}<inlineCode parentName=\"p\">{`di.xml`}</inlineCode>{` file of your module. Conventionally, its location must be `}<inlineCode parentName=\"p\">{`<your_module_dir>/etc/di.xml`}</inlineCode></p>\n    <p>{`Configure the command as described in `}<a parentName=\"p\" {...{\n        \"href\": \"../payment-gateway/gateway-command.md\"\n      }}>{`Gateway Command`}</a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"example-authorize-payment-action-for-braintree\"\n    }}>{`Example: `}<inlineCode parentName=\"h2\">{`authorize`}</inlineCode>{` payment action for Braintree`}</h2>\n    <p>{`Configuring the gateway command and adding it to command pool (`}<inlineCode parentName=\"p\">{`app/code/Magento/Braintree/etc/di.xml`}</inlineCode>{`):`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<virtualType name=\"BraintreeCommandPool\" type=\"Magento\\\\Payment\\\\Gateway\\\\Command\\\\CommandPool\">\n    <arguments>\n        <argument name=\"commands\" xsi:type=\"array\">\n            <item name=\"authorize\" xsi:type=\"string\">BraintreeAuthorizeCommand</item>\n        </argument>\n    </arguments>\n</virtualType>\n\n<virtualType name=\"BraintreeAuthorizeCommand\" type=\"Magento\\\\Payment\\\\Gateway\\\\Command\\\\GatewayCommand\">\n    <arguments>\n        <argument name=\"requestBuilder\" xsi:type=\"object\">BraintreeAuthorizeRequest</argument>\n        <argument name=\"transferFactory\" xsi:type=\"object\">Magento\\\\Braintree\\\\Gateway\\\\Http\\\\TransferFactory</argument>\n        <argument name=\"client\" xsi:type=\"object\">Magento\\\\Braintree\\\\Gateway\\\\Http\\\\Client\\\\TransactionSale</argument>\n        <argument name=\"handler\" xsi:type=\"object\">BraintreeAuthorizationHandler</argument>\n        <argument name=\"validator\" xsi:type=\"object\">Magento\\\\Braintree\\\\Gateway\\\\Validator\\\\ResponseValidator</argument>\n    </arguments>\n</virtualType>\n`}</code></pre>\n    <p>{`In the command configuration we see that `}<inlineCode parentName=\"p\">{`BraintreeAuthorizeRequest`}</inlineCode>{` is specified as `}<inlineCode parentName=\"p\">{`requestBuilder`}</inlineCode>{`, that is a\nLet's look closer on the `}<inlineCode parentName=\"p\">{`requestBuilder`}</inlineCode>{` arguments. This argument value is a list of builders, builder composite.`}</p>\n    <p>{`The `}<inlineCode parentName=\"p\">{`BraintreeAuthorizeRequest`}</inlineCode>{` builder contains the following builders (`}<inlineCode parentName=\"p\">{`app/code/Magento/Braintree/etc/di.xml`}</inlineCode>{`):`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<virtualType name=\"BraintreeAuthorizeRequest\" type=\"Magento\\\\Payment\\\\Gateway\\\\Request\\\\BuilderComposite\">\n        <arguments>\n            <argument name=\"builders\" xsi:type=\"array\">\n                <item name=\"customer\" xsi:type=\"string\">Magento\\\\Braintree\\\\Gateway\\\\Request\\\\CustomerDataBuilder</item>\n                <item name=\"payment\" xsi:type=\"string\">Magento\\\\Braintree\\\\Gateway\\\\Request\\\\PaymentDataBuilder</item>\n                <item name=\"channel\" xsi:type=\"string\">Magento\\\\Braintree\\\\Gateway\\\\Request\\\\ChannelDataBuilder</item>\n                <item name=\"address\" xsi:type=\"string\">Magento\\\\Braintree\\\\Gateway\\\\Request\\\\AddressDataBuilder</item>\n                <item name=\"vault\" xsi:type=\"string\">Magento\\\\Braintree\\\\Gateway\\\\Request\\\\VaultDataBuilder</item>\n                <item name=\"3dsecure\" xsi:type=\"string\">Magento\\\\Braintree\\\\Gateway\\\\Request\\\\ThreeDSecureDataBuilder</item>\n                <item name=\"device_data\" xsi:type=\"string\">Magento\\\\Braintree\\\\Gateway\\\\Request\\\\KountPaymentDataBuilder</item>\n                <item name=\"dynamic_descriptor\" xsi:type=\"string\">Magento\\\\Braintree\\\\Gateway\\\\Request\\\\DescriptorDataBuilder</item>\n                <item name=\"store\" xsi:type=\"string\">Magento\\\\Braintree\\\\Gateway\\\\Request\\\\StoreConfigBuilder</item>\n                <item name=\"merchant_account\" xsi:type=\"string\">Magento\\\\Braintree\\\\Gateway\\\\Request\\\\MerchantAccountDataBuilder</item>\n            </argument>\n        </arguments>\n    </virtualType>\n`}</code></pre>\n    <p>{`The most important builder in this pool is `}<inlineCode parentName=\"p\">{`Magento\\\\Braintree\\\\Gateway\\\\Request\\\\PaymentDataBuilder`}</inlineCode>{`, the `}<inlineCode parentName=\"p\">{`payment`}</inlineCode>{` builder. It is responsible for the payment information part of the request.`}</p>\n    <p>{`Please see the `}<a parentName=\"p\" {...{\n        \"href\": \"get-payment-info.md\"\n      }}>{`Get payment information from frontend to backend`}</a>{` for details about how payment information can be handled and `}<a parentName=\"p\" {...{\n        \"href\": \"../../../tutorials/frontend/custom-checkout/add-payment-method.md\"\n      }}>{`Add a custom payment method to checkout`}</a>{`: for information on how to add a custom payment integration to `}<a parentName=\"p\" {...{\n        \"href\": \"https://glossary.magento.com/checkout\"\n      }}>{`checkout`}</a>{` page.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"sourceRoot":""}